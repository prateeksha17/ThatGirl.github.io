/*! For license information please see main.ed6ef829.js.LICENSE.txt */
!function(){var e={110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?a:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var u=s(t),y=s(n),v=0;v<a.length;++v){var m=a[v];if(!o[m]&&(!r||!r[m])&&(!y||!y[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(b){}}}}return t}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var o,a,u=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var c in o=Object(arguments[s]))n.call(o,c)&&(u[c]=o[c]);if(t){a=t(o);for(var l=0;l<a.length;l++)r.call(o,a[l])&&(u[a[l]]=o[a[l]])}}return u}},888:function(e,t,n){"use strict";var r=n(342);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},342:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),o=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},y={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(y,e)||!d.call(p,e)&&(h.test(e)?y[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,b);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,b);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,S=60106,T=60107,k=60108,I=60114,x=60109,C=60110,N=60112,O=60113,A=60120,D=60115,P=60116,R=60121,L=60128,M=60129,F=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;_=U("react.element"),S=U("react.portal"),T=U("react.fragment"),k=U("react.strict_mode"),I=U("react.profiler"),x=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),O=U("react.suspense"),A=U("react.suspense_list"),D=U("react.memo"),P=U("react.lazy"),R=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var V,q="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var K=!1;function H(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,u=o.length-1;1<=a&&0<=u&&i[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==o[u]){if(1!==a||1!==u)do{if(a--,0>--u||i[a]!==o[u])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=u);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function W(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case S:return"Portal";case I:return"Profiler";case k:return"StrictMode";case O:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return G(e.type);case R:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ye,ve=(ye=function(e,t){if(e.namespaceURI!==fe.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ge={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ge.hasOwnProperty(e)&&ge[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ge).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ge[t]=ge[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,xe=null,Ce=null;function Ne(e){if(e=ni(e)){if("function"!==typeof Ie)throw Error(a(280));var t=e.stateNode;t&&(t=ii(t),Ie(e.stateNode,e.type,t))}}function Oe(e){xe?Ce?Ce.push(e):Ce=[e]:xe=e}function Ae(){if(xe){var e=xe,t=Ce;if(Ce=xe=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function De(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function Re(){}var Le=De,Me=!1,Fe=!1;function je(){null===xe&&null===Ce||(Re(),Ae())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ve=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(ye){Ve=!1}function Be(e,t,n,r,i,o,a,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var ze=!1,Ke=null,He=!1,We=null,Ge={onError:function(e){ze=!0,Ke=e}};function Qe(e,t,n,r,i,o,a,u,s){ze=!1,Ke=null,Be.apply(Ge,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if($e(e)!==e)throw Error(a(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Xe(i),e;if(o===r)return Xe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],at=null,ut=null,st=null,ct=new Map,lt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":st=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function yt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=dt(t,n,r,i,o),null!==t&&(null!==(t=ni(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=ti(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function gt(e,t,n){mt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==at&&mt(at)&&(at=null),null!==ut&&mt(ut)&&(ut=null),null!==st&&mt(st)&&(st=null),ct.forEach(gt),lt.forEach(gt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function Et(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&wt(at,e),null!==ut&&wt(ut,e),null!==st&&wt(st,e),ct.forEach(t),lt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)vt(n),null===n.blockedOn&&ft.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},Tt={},kt={};function It(e){if(Tt[e])return Tt[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in kt)return Tt[e]=n[t];return e}f&&(kt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var xt=It("animationend"),Ct=It("animationiteration"),Nt=It("animationstart"),Ot=It("transitionend"),At=new Map,Dt=new Map,Pt=["abort","abort",xt,"animationEnd",Ct,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),At.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,u=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!==(o=134217727&n)){var s=o&~a;0!==s?(r=Mt(s),i=Lt):0!==(u&=o)&&(r=Mt(u),i=Lt)}else 0!==(o=n&~a)?(r=Mt(o),i=Lt):0!==u&&(r=Mt(u),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Vt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Vt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Ht|0)|0},Kt=Math.log,Ht=Math.LN2;var Wt=o.unstable_UserBlockingPriority,Gt=o.unstable_runWithPriority,Qt=!0;function $t(e,t,n,r){Me||Re();var i=Xt,o=Me;Me=!0;try{Pe(i,e,t,n,r)}finally{(Me=o)||je()}}function Yt(e,t,n,r){Gt(Wt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=dt(null,e,t,n,r),ot.push(e);else{var o=Jt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=dt(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=yt(at,e,t,n,r,i),!0;case"dragenter":return ut=yt(ut,e,t,n,r,i),!0;case"mouseover":return st=yt(st,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,yt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lt.set(o,yt(lt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Rr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=ke(r);if(null!==(i=ti(i))){var o=$e(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ye(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Rr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var sn,cn,ln,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=un(fn),dn=i({},fn,{view:0,detail:0}),pn=un(dn),yn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),vn=un(yn),mn=un(i({},yn,{dataTransfer:0})),gn=un(i({},dn,{relatedTarget:0})),bn=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=un(wn),_n=un(i({},fn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function xn(){return In}var Cn=i({},dn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=un(Cn),On=un(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=un(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Dn=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=un(Pn),Ln=[9,13,27,32],Mn=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var jn=f&&"TextEvent"in window&&!Fn,Un=f&&(!Mn||Fn&&8<Fn&&11>=Fn),Vn=String.fromCharCode(32),qn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Gn(e,t,n,r){Oe(r),0<(t=Mr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,$n=null;function Yn(e){Cr(e,0)}function Xn(e){if(X(ri(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(f){var er;if(f){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Qn&&(Qn.detachEvent("onpropertychange",ir),$n=Qn=null)}function ir(e){if("value"===e.propertyName&&Xn($n)){var t=[];if(Gn(t,$n,e,ke(e)),e=Yn,Me)e(t);else{Me=!0;try{De(e,t)}finally{Me=!1,je()}}}}function or(e,t,n){"focusin"===e?(rr(),$n=n,(Qn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn($n)}function ur(e,t){if("click"===e)return Xn(t)}function sr(e,t){if("input"===e||"change"===e)return Xn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},lr=Object.prototype.hasOwnProperty;function fr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mr=f&&"documentMode"in document&&11>=document.documentMode,gr=null,br=null,wr=null,Er=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==gr||gr!==J(r)||("selectionStart"in(r=gr)&&vr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&fr(wr,r)||(wr=r,0<(r=Mr(br,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(Pt,2);for(var Sr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<Sr.length;Tr++)Dt.set(Sr[Tr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function xr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Qe.apply(this,arguments),ze){if(!ze)throw Error(a(198));var l=Ke;ze=!1,Ke=null,He||(He=!0,We=l)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var u=r[a],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==o&&i.isPropagationStopped())break e;xr(i,u,c),o=s}else for(a=0;a<r.length;a++){if(s=(u=r[a]).instance,c=u.currentTarget,u=u.listener,s!==o&&i.isPropagationStopped())break e;xr(i,u,c),o=s}}}if(He)throw e=We,He=!1,We=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){e[Or]||(e[Or]=!0,u.forEach((function(t){Ir.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=oi(o),u=e+"__"+(t?"capture":"bubble");a.has(u)||(t&&(i|=4),Pr(o,e,i,t),a.add(u))}function Pr(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;a=a.return}for(;null!==u;){if(null===(a=ti(u)))return;if(5===(s=a.tag)||6===s){r=o=a;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{return Le(e,t,n)}finally{Fe=!1,je()}}((function(){var r=o,i=ke(n),a=[];e:{var u=At.get(e);if(void 0!==u){var s=hn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=gn;break;case"focusout":c="blur",s=gn;break;case"beforeblur":case"afterblur":s=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case xt:case Ct:case Nt:s=bn;break;case Ot:s=Dn;break;case"scroll":s=pn;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var y=(d=p).stateNode;if(5===d.tag&&null!==y&&(d=y,null!==h&&(null!=(y=Ue(p,h))&&l.push(Lr(p,y,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),a.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ti(c)&&!c[Zr])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ti(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=vn,y="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,y="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ri(s),d=null==c?u:ri(c),(u=new l(y,p+"leave",s,n,i)).target=f,u.relatedTarget=d,y=null,ti(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,y=l),f=y,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Fr(d))p++;for(d=0,y=h;y;y=Fr(y))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==s&&jr(a,u,s,l,!1),null!==c&&null!==f&&jr(a,f,c,l,!0)}if("select"===(s=(u=r?ri(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var v=Jn;else if(Wn(u))if(Zn)v=sr;else{v=ar;var m=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(v=ur);switch(v&&(v=v(e,r))?Gn(a,v,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ie(u,"number",u.value)),m=r?ri(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(gr=m,br=r,wr=null);break;case"focusout":wr=br=gr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,_r(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":_r(a,n,i)}var g;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Kn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Kn&&(g=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Kn=!0)),0<(m=Mr(r,b)).length&&(b=new _n(b,e,null,n,i),a.push({event:b,listeners:m}),g?b.data=g:null!==(g=zn(n))&&(b.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(qn=!0,Vn);case"textInput":return(e=t.data)===Vn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Mn&&Bn(e,t)?(e=nn(),tn=en=Zt=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}Cr(a,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(Lr(e,o,i)),null!=(o=Ue(e,t))&&r.push(Lr(e,o,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ue(n,o))&&a.unshift(Lr(n,s,u)):i||null!=(s=Ue(n,o))&&a.push(Lr(n,s,u))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Ur(){}var Vr=null,qr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Wr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Yr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Yr,Jr="__reactProps$"+Yr,Zr="__reactContainer$"+Yr,ei="__reactEvents$"+Yr;function ti(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Xr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Xr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ii(e){return e[Jr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var ai=[],ui=-1;function si(e){return{current:e}}function ci(e){0>ui||(e.current=ai[ui],ai[ui]=null,ui--)}function li(e,t){ui++,ai[ui]=e.current,e.current=t}var fi={},hi=si(fi),di=si(!1),pi=fi;function yi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){ci(di),ci(hi)}function gi(e,t,n){if(hi.current!==fi)throw Error(a(168));li(hi,t),li(di,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,G(t)||"Unknown",o));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,pi=hi.current,li(hi,e),li(di,di.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=bi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ci(di),ci(hi),li(hi,e)):ci(di),li(di,n)}var _i=null,Si=null,Ti=o.unstable_runWithPriority,ki=o.unstable_scheduleCallback,Ii=o.unstable_cancelCallback,xi=o.unstable_shouldYield,Ci=o.unstable_requestPaint,Ni=o.unstable_now,Oi=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Di=o.unstable_UserBlockingPriority,Pi=o.unstable_NormalPriority,Ri=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Mi={},Fi=void 0!==Ci?Ci:function(){},ji=null,Ui=null,Vi=!1,qi=Ni(),Bi=1e4>qi?Ni:function(){return Ni()-qi};function zi(){switch(Oi()){case Ai:return 99;case Di:return 98;case Pi:return 97;case Ri:return 96;case Li:return 95;default:throw Error(a(332))}}function Ki(e){switch(e){case 99:return Ai;case 98:return Di;case 97:return Pi;case 96:return Ri;case 95:return Li;default:throw Error(a(332))}}function Hi(e,t){return e=Ki(e),Ti(e,t)}function Wi(e,t,n){return e=Ki(e),ki(e,t,n)}function Gi(){if(null!==Ui){var e=Ui;Ui=null,Ii(e)}Qi()}function Qi(){if(!Vi&&null!==ji){Vi=!0;var e=0;try{var t=ji;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),ki(Ai,Gi),n}finally{Vi=!1}}}var $i=E.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=si(null),Ji=null,Zi=null,eo=null;function to(){eo=Zi=Ji=null}function no(e){var t=Xi.current;ci(Xi),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Ji=e,eo=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Ji)throw Error(a(308));Zi=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var ao=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function so(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ho(e,t,n,r){var o=e.updateQueue;ao=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?a=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(h=o.baseState,u=0,f=l=c=null;;){s=a.lane;var d=a.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,y=a;switch(s=t,d=n,y.tag){case 1:if("function"===typeof(p=y.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=y.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ao=!0}}null!==a.callback&&(e.flags|=32,null===(s=o.effects)?o.effects=[a]:s.push(a))}else d={eventTime:d,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(a=a.next)){if(null===(s=o.shared.pending))break;a=s.next,s.next=null,o.lastBaseUpdate=s,o.shared.pending=null}}null===f&&(c=h),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,qu|=u,e.lanes=u,e.memoizedState=h}}function po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var yo=(new r.Component).refs;function vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),o=co(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),lo(e,o),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),o=co(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),lo(e,o),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=co(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),lo(e,i),ps(e,r,n)}};function go(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,o))}function bo(e,t,n){var r=!1,i=fi,o=t.contextType;return"object"===typeof o&&null!==o?o=oo(o):(i=vi(t)?pi:hi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):fi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=yo,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=oo(o):(o=vi(t)?pi:hi.current,i.context=yi(e,o)),ho(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&mo.enqueueReplaceState(i,i.state,null),ho(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var _o=Array.isArray;function So(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===yo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function To(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ko(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ws(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=So(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=So(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=So(e,null,t),n.return=e,n;case S:return(t=Xs(t,e.mode,n)).return=e,t}if(_o(t)||B(t))return(t=Qs(t,e.mode,n,null)).return=e,t;To(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===T?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null}if(_o(n)||B(n))return null!==i?null:f(e,t,n,r,null);To(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===T?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_o(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);To(t,r)}return null}function y(i,a,u,s){for(var c=null,l=null,f=a,y=a=0,v=null;null!==f&&y<u.length;y++){f.index>y?(v=f,f=null):v=f.sibling;var m=d(i,f,u[y],s);if(null===m){null===f&&(f=v);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,y),null===l?c=m:l.sibling=m,l=m,f=v}if(y===u.length)return n(i,f),c;if(null===f){for(;y<u.length;y++)null!==(f=h(i,u[y],s))&&(a=o(f,a,y),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);y<u.length;y++)null!==(v=p(f,i,y,u[y],s))&&(e&&null!==v.alternate&&f.delete(null===v.key?y:v.key),a=o(v,a,y),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(i,e)})),c}function v(i,u,s,c){var l=B(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,y=u,v=u=0,m=null,g=s.next();null!==y&&!g.done;v++,g=s.next()){y.index>v?(m=y,y=null):m=y.sibling;var b=d(i,y,g.value,c);if(null===b){null===y&&(y=m);break}e&&y&&null===b.alternate&&t(i,y),u=o(b,u,v),null===f?l=b:f.sibling=b,f=b,y=m}if(g.done)return n(i,y),l;if(null===y){for(;!g.done;v++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,v),null===f?l=g:f.sibling=g,f=g);return l}for(y=r(i,y);!g.done;v++,g=s.next())null!==(g=p(y,i,v,g.value,c))&&(e&&null!==g.alternate&&y.delete(null===g.key?v:g.key),u=o(g,u,v),null===f?l=g:f.sibling=g,f=g);return e&&y.forEach((function(e){return t(i,e)})),l}return function(e,r,o,s){var c="object"===typeof o&&null!==o&&o.type===T&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case _:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===T){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=So(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===T?((r=Qs(o.props.children,e.mode,s,o.key)).return=e,e=r):((s=Gs(o.type,o.key,o.props,null,e.mode,s)).ref=So(e,r,o),s.return=e,e=s)}return u(e);case S:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xs(o,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Ys(o,e.mode,s)).return=e,e=r),u(e);if(_o(o))return y(e,r,o,s);if(B(o))return v(e,r,o,s);if(l&&To(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(e.type)||"Component"))}return n(e,r)}}var Io=ko(!0),xo=ko(!1),Co={},No=si(Co),Oo=si(Co),Ao=si(Co);function Do(e){if(e===Co)throw Error(a(174));return e}function Po(e,t){switch(li(Ao,t),li(Oo,e),li(No,Co),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(No),li(No,t)}function Ro(){ci(No),ci(Oo),ci(Ao)}function Lo(e){Do(Ao.current);var t=Do(No.current),n=de(t,e.type);t!==n&&(li(Oo,e),li(No,n))}function Mo(e){Oo.current===e&&(ci(No),ci(Oo))}var Fo=si(0);function jo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=null,Vo=null,qo=!1;function Bo(e,t){var n=Ks(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ko(e){if(qo){var t=Vo;if(t){var n=t;if(!zo(e,t)){if(!(t=Gr(n.nextSibling))||!zo(e,t))return e.flags=-1025&e.flags|2,qo=!1,void(Uo=e);Bo(Uo,n)}Uo=e,Vo=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,qo=!1,Uo=e}}function Ho(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function Wo(e){if(e!==Uo)return!1;if(!qo)return Ho(e),qo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=Vo;t;)Bo(e,t),t=Gr(t.nextSibling);if(Ho(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Vo=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Vo=null}}else Vo=Uo?Gr(e.stateNode.nextSibling):null;return!0}function Go(){Vo=Uo=null,qo=!1}var Qo=[];function $o(){for(var e=0;e<Qo.length;e++)Qo[e]._workInProgressVersionPrimary=null;Qo.length=0}var Yo=E.ReactCurrentDispatcher,Xo=E.ReactCurrentBatchConfig,Jo=0,Zo=null,ea=null,ta=null,na=!1,ra=!1;function ia(){throw Error(a(321))}function oa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function aa(e,t,n,r,i,o){if(Jo=o,Zo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=null===e||null===e.memoizedState?Da:Pa,e=n(r,i),ra){o=0;do{if(ra=!1,!(25>o))throw Error(a(301));o+=1,ta=ea=null,t.updateQueue=null,Yo.current=Ra,e=n(r,i)}while(ra)}if(Yo.current=Aa,t=null!==ea&&null!==ea.next,Jo=0,ta=ea=Zo=null,na=!1,t)throw Error(a(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ta?Zo.memoizedState=ta=e:ta=ta.next=e,ta}function sa(){if(null===ea){var e=Zo.alternate;e=null!==e?e.memoizedState:null}else e=ea.next;var t=null===ta?Zo.memoizedState:ta.next;if(null!==t)ta=t,ea=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ea=e).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===ta?Zo.memoizedState=ta=e:ta=ta.next=e}return ta}function ca(e,t){return"function"===typeof t?t(e):t}function la(e){var t=sa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ea,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=o=null,c=i;do{var l=c.lane;if((Jo&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,o=r):s=s.next=f,Zo.lanes|=l,qu|=l}c=c.next}while(null!==c&&c!==i);null===s?o=r:s.next=u,cr(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fa(e){var t=sa(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);cr(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=r,Qo.push(t))),e)return n(t._source);throw Qo.push(t),Error(a(350))}function da(e,t,n,r){var i=Pu;if(null===i)throw Error(a(349));var o=t._getVersion,u=o(t._source),s=Yo.current,c=s.useState((function(){return ha(i,t,n)})),l=c[1],f=c[0];c=ta;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,y=h.source;h=h.subscribe;var v=Zo;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!cr(u,e)){e=n(t._source),cr(f,e)||(l(e),e=ds(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var s=31-zt(a),c=1<<s;r[s]|=e,a&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(v);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),cr(p,n)&&cr(y,t)&&cr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:f}).dispatch=l=Oa.bind(null,Zo,e),c.queue=e,c.baseQueue=null,f=ha(i,t,n),c.memoizedState=c.baseState=f),f}function pa(e,t,n){return da(sa(),e,t,n)}function ya(e){var t=ua();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=Oa.bind(null,Zo,e),[t.memoizedState,e]}function va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zo.updateQueue)?(t={lastEffect:null},Zo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(e){return e={current:e},ua().memoizedState=e}function ga(){return sa().memoizedState}function ba(e,t,n,r){var i=ua();Zo.flags|=e,i.memoizedState=va(1|t,n,void 0,void 0===r?null:r)}function wa(e,t,n,r){var i=sa();r=void 0===r?null:r;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==r&&oa(r,a.deps))return void va(t,n,o,r)}Zo.flags|=e,i.memoizedState=va(1|t,n,o,r)}function Ea(e,t){return ba(516,4,e,t)}function _a(e,t){return wa(516,4,e,t)}function Sa(e,t){return wa(4,2,e,t)}function Ta(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ka(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,Ta.bind(null,t,e),n)}function Ia(){}function xa(e,t){var n=sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ca(e,t){var n=sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&oa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Na(e,t){var n=zi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Xo.transition;Xo.transition=1;try{e(!1),t()}finally{Xo.transition=n}}))}function Oa(e,t,n){var r=hs(),i=ds(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Zo||null!==a&&a===Zo)ra=na=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=a(u,n);if(o.eagerReducer=a,o.eagerState=s,cr(s,u))return}catch(c){}ps(e,i,r)}}var Aa={readContext:oo,useCallback:ia,useContext:ia,useEffect:ia,useImperativeHandle:ia,useLayoutEffect:ia,useMemo:ia,useReducer:ia,useRef:ia,useState:ia,useDebugValue:ia,useDeferredValue:ia,useTransition:ia,useMutableSource:ia,useOpaqueIdentifier:ia,unstable_isNewReconciler:!1},Da={readContext:oo,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:Ea,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ba(4,2,Ta.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ba(4,2,e,t)},useMemo:function(e,t){var n=ua();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ua();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oa.bind(null,Zo,e),[r.memoizedState,e]},useRef:ma,useState:ya,useDebugValue:Ia,useDeferredValue:function(e){var t=ya(e),n=t[0],r=t[1];return Ea((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=ya(!1),t=e[0];return ma(e=Na.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ua();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},da(r,e,t,n)},useOpaqueIdentifier:function(){if(qo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(a(355))})),n=ya(t)[1];return 0===(2&Zo.mode)&&(Zo.flags|=516,va(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return ya(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Pa={readContext:oo,useCallback:xa,useContext:oo,useEffect:_a,useImperativeHandle:ka,useLayoutEffect:Sa,useMemo:Ca,useReducer:la,useRef:ga,useState:function(){return la(ca)},useDebugValue:Ia,useDeferredValue:function(e){var t=la(ca),n=t[0],r=t[1];return _a((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=la(ca)[0];return[ga().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return la(ca)[0]},unstable_isNewReconciler:!1},Ra={readContext:oo,useCallback:xa,useContext:oo,useEffect:_a,useImperativeHandle:ka,useLayoutEffect:Sa,useMemo:Ca,useReducer:fa,useRef:ga,useState:function(){return fa(ca)},useDebugValue:Ia,useDeferredValue:function(e){var t=fa(ca),n=t[0],r=t[1];return _a((function(){var t=Xo.transition;Xo.transition=1;try{r(e)}finally{Xo.transition=t}}),[e]),n},useTransition:function(){var e=fa(ca)[0];return[ga().current,e]},useMutableSource:pa,useOpaqueIdentifier:function(){return fa(ca)[0]},unstable_isNewReconciler:!1},La=E.ReactCurrentOwner,Ma=!1;function Fa(e,t,n,r){t.child=null===e?xo(t,null,n,r):Io(t,e.child,n,r)}function ja(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=aa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Fa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ou(e,t,i))}function Ua(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Hs(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Va(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?ou(e,t,o):(t.flags|=1,(e=Ws(a,r)).ref=t.ref,e.return=t,t.child=e)}function Va(e,t,n,r,i,o){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,0===(o&i))return t.lanes=e.lanes,ou(e,t,o);0!==(16384&e.flags)&&(Ma=!0)}return za(e,t,n,r,o)}function qa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_s(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_s(t,e),null;t.memoizedState={baseLanes:0},_s(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,_s(t,r);return Fa(e,t,i,n),t.child}function Ba(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function za(e,t,n,r,i){var o=vi(n)?pi:hi.current;return o=yi(t,o),io(t,i),n=aa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Fa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ou(e,t,i))}function Ka(e,t,n,r,i){if(vi(n)){var o=!0;wi(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bo(t,n,r),Eo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,u=t.memoizedProps;a.props=u;var s=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=oo(c):c=yi(t,c=vi(n)?pi:hi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==r||s!==c)&&wo(t,a,r,c),ao=!1;var h=t.memoizedState;a.state=h,ho(t,r,a,i),s=t.memoizedState,u!==r||h!==s||di.current||ao?("function"===typeof l&&(vo(t,n,l,r),s=t.memoizedState),(u=ao||go(t,n,u,r,h,s,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=c,r=u):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,so(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Yi(t.type,u),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(s=n.contextType)&&null!==s?s=oo(s):s=yi(t,s=vi(n)?pi:hi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==f||h!==s)&&wo(t,a,r,s),ao=!1,h=t.memoizedState,a.state=h,ho(t,r,a,i);var p=t.memoizedState;u!==f||h!==p||di.current||ao?("function"===typeof d&&(vo(t,n,d,r),p=t.memoizedState),(c=ao||go(t,n,c,r,h,p,s))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=s,r=c):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ha(e,t,n,r,o,i)}function Ha(e,t,n,r,i,o){Ba(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&Ei(t,n,!1),ou(e,t,o);r=t.stateNode,La.current=t;var u=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Io(t,e.child,null,o),t.child=Io(t,null,u,o)):Fa(e,t,u,o),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Wa(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),Po(e,t.containerInfo)}var Ga,Qa,$a,Ya,Xa={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,i=t.pendingProps,o=Fo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),li(Fo,1&o),null===e?(void 0!==i.fallback&&Ko(t),e=i.children,o=i.fallback,a?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,e):"number"===typeof i.unstable_expectedLoadTime?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,t.lanes=33554432,e):((n=$s({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=tu(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Xa,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Za(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=$s(t,i,0,null),n=Qs(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ws(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var u={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=u,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ws(a,u),null!==e?r=Ws(e,r):(r=Qs(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function ru(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fa(e,t,r.children,n),0!==(2&(r=Fo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(Fo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===jo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===jo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,o,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ou(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ws(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ws(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function au(e,t){if(!qo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return vi(t.type)&&mi(),null;case 3:return Ro(),ci(di),ci(hi),$o(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Qa(t),null;case 5:Mo(t);var o=Do(Ao.current);if(n=t.type,null!==e&&null!=t.stateNode)$a(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Do(No.current),Wo(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Xr]=t,r[Jr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<kr.length;e++)Nr(kr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in Se(n,u),e=null,u)u.hasOwnProperty(c)&&(o=u[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):s.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe.html&&(e=he(n)),e===fe.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Jr]=r,Ga(e,t,!1,!1),t.stateNode=e,c=Te(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),o=r;break;case"iframe":case"object":case"embed":Nr("load",e),o=r;break;case"video":case"audio":for(o=0;o<kr.length;o++)Nr(kr[o],e);o=r;break;case"source":Nr("error",e),o=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),o=r;break;case"details":Nr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Nr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),o=ue(e,r),Nr("invalid",e);break;default:o=r}Se(n,o);var l=o;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?Ee(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ve(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&me(e,f):"number"===typeof f&&me(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&w(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?ae(e,!!r.multiple,u,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Ur)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ya(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Do(Ao.current),Do(No.current),Wo(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return ci(Fo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fo.current)?0===ju&&(ju=3):(0!==ju&&3!==ju||(ju=4),null===Pu||0===(134217727&qu)&&0===(134217727&Bu)||gs(Pu,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Ro(),Qa(t),null===e&&Ar(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(ci(Fo),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)au(r,!1);else{if(0!==ju||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=jo(e))){for(t.flags|=64,au(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return li(Fo,1&Fo.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Wu&&(t.flags|=64,u=!0,au(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=jo(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),au(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!qo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Wu&&1073741824!==n&&(t.flags|=64,u=!0,au(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Fo.current,li(Fo,u?1&t|2:1&t),n):null;case 23:case 24:return Ss(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function su(e){switch(e.tag){case 1:vi(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ro(),ci(di),ci(hi),$o(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return ci(Fo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Fo),null;case 4:return Ro(),null;case 10:return no(e),null;case 23:case 24:return Ss(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Ga=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qa=function(){},$a=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Do(No.current);var a,u=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),u=[];break;case"option":o=oe(e,o),r=oe(e,r),u=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":o=ue(e,o),r=ue(e,r),u=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(f in Se(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Ya=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Xu=r),lu(0,t)},n}function du(e,t,n){(n=co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function yu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function vu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Wr(t.stateNode.containerInfo))}throw Error(a(163))}function mu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&po(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}po(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(a(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bu(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(_i,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(o){Vs(r,o)}}n=n.next}while(n!==e)}break;case 1:if(yu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Vs(t,o)}break;case 5:yu(t);break;case 4:ku(e,t)}}function wu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Eu(e){return 5===e.tag||3===e.tag||4===e.tag}function _u(e){e:{for(var t=e.return;null!==t;){if(Eu(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Eu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Su(e,n,t):Tu(e,n,t)}function Su(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(Su(e,t,n),e=e.sibling;null!==e;)Su(e,t,n),e=e.sibling}function Tu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Tu(e,t,n),e=e.sibling;null!==e;)Tu(e,t,n),e=e.sibling}function ku(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(bu(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bu(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Iu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?Ee(n,s):"dangerouslySetInnerHTML"===u?ve(n,s):"children"===u?me(n,s):w(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hu=Bi(),gu(t.child,!0)),void xu(t);case 19:return void xu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(a(163))}function xu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=Bs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Nu=Math.ceil,Ou=E.ReactCurrentDispatcher,Au=E.ReactCurrentOwner,Du=0,Pu=null,Ru=null,Lu=0,Mu=0,Fu=si(0),ju=0,Uu=null,Vu=0,qu=0,Bu=0,zu=0,Ku=null,Hu=0,Wu=1/0;function Gu(){Wu=Bi()+500}var Qu,$u=null,Yu=!1,Xu=null,Ju=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,os=0,as=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Du)?Bi():-1!==us?us:us=Bi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===zi()?1:2;if(0===ss&&(ss=Vu),0!==$i.transition){0!==cs&&(cs=null!==Ku?Ku.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=zi(),0!==(4&Du)&&98===e?e=Ut(12,ss):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<os)throw os=0,as=null,Error(a(185));if(null===(e=ys(e,t)))return null;Bt(e,t,n),e===Pu&&(Bu|=t,4===ju&&gs(e,Lu));var r=zi();1===t?0!==(8&Du)&&0===(48&Du)?bs(e):(vs(e,n),0===Du&&(Gu(),Gi())):(0===(4&Du)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),vs(e,n)),Ku=e}function ys(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function vs(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-zt(u),c=1<<s,l=o[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var f=Lt;o[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ft(e,e===Pu?Lu:0),t=Lt,0===r)null!==n&&(n!==Mi&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ii(n)}15===t?(n=bs.bind(null,e),null===ji?(ji=[n],Ui=ki(Ai,Qi)):ji.push(n),n=Mi):14===t?n=Wi(99,bs.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Wi(n,ms.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ms(e){if(us=-1,cs=ss=0,0!==(48&Du))throw Error(a(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ft(e,e===Pu?Lu:0);if(0===n)return null;var r=n,i=Du;Du|=16;var o=Is();for(Pu===e&&Lu===r||(Gu(),Ts(e,r));;)try{Ns();break}catch(s){ks(e,s)}if(to(),Ou.current=o,Du=i,null!==Ru?r=0:(Pu=null,Lu=0,r=ju),0!==(Vu&Bu))Ts(e,0);else if(0!==r){if(2===r&&(Du|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(n=jt(e))&&(r=xs(e,n))),1===r)throw t=Uu,Ts(e,0),gs(e,n),vs(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ds(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Hu+500-Bi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Ds.bind(null,e),r);break}Ds(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-zt(n);o=1<<u,(u=r[u])>i&&(i=u),n&=~o}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nu(n/1960))-n)){e.timeoutHandle=Kr(Ds.bind(null,e),n);break}Ds(e);break;default:throw Error(a(329))}}return vs(e,Bi()),e.callbackNode===t?ms.bind(null,e):null}function gs(e,t){for(t&=~zu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function bs(e){if(0!==(48&Du))throw Error(a(327));if(Ls(),e===Pu&&0!==(e.expiredLanes&Lu)){var t=Lu,n=xs(e,t);0!==(Vu&Bu)&&(n=xs(e,t=Ft(e,t)))}else n=xs(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Du|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(t=jt(e))&&(n=xs(e,t))),1===n)throw n=Uu,Ts(e,0),gs(e,t),vs(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ds(e),vs(e,Bi()),null}function ws(e,t){var n=Du;Du|=1;try{return e(t)}finally{0===(Du=n)&&(Gu(),Gi())}}function Es(e,t){var n=Du;Du&=-2,Du|=8;try{return e(t)}finally{0===(Du=n)&&(Gu(),Gi())}}function _s(e,t){li(Fu,Mu),Mu|=t,Vu|=t}function Ss(){Mu=Fu.current,ci(Fu)}function Ts(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:Ro(),ci(di),ci(hi),$o();break;case 5:Mo(r);break;case 4:Ro();break;case 13:case 19:ci(Fo);break;case 10:no(r);break;case 23:case 24:Ss()}n=n.return}Pu=e,Ru=Ws(e.current,null),Lu=Mu=Vu=t,ju=0,Uu=null,zu=Bu=qu=0}function ks(e,t){for(;;){var n=Ru;try{if(to(),Yo.current=Aa,na){for(var r=Zo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}na=!1}if(Jo=0,ta=ea=Zo=null,ra=!1,Au.current=null,null===n||null===n.return){ju=1,Uu=t,Ru=null;break}e:{var o=e,a=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fo.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var y=h.memoizedProps;d=void 0!==y.fallback&&(!0!==y.unstable_avoidThisFallback||!f)}}if(d){var v=h.updateQueue;if(null===v){var m=new Set;m.add(c),h.updateQueue=m}else v.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=co(-1,1);g.tag=2,lo(u,g)}u.lanes|=1;break e}s=void 0,u=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new fu,s=new Set,b.set(c,s)):void 0===(s=b.get(c))&&(s=new Set,b.set(c,s)),!s.has(u)){s.add(u);var w=qs.bind(null,o,c,u);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ju&&(ju=2),s=cu(s,u),h=a;do{switch(h.tag){case 3:o=s,h.flags|=4096,t&=-t,h.lanes|=t,fo(h,hu(0,o,t));break e;case 1:o=s;var E=h.type,_=h.stateNode;if(0===(64&h.flags)&&("function"===typeof E.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Ju||!Ju.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,fo(h,du(h,o,t));break e}}h=h.return}while(null!==h)}As(n)}catch(S){t=S,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function Is(){var e=Ou.current;return Ou.current=Aa,null===e?Aa:e}function xs(e,t){var n=Du;Du|=16;var r=Is();for(Pu===e&&Lu===t||Ts(e,t);;)try{Cs();break}catch(i){ks(e,i)}if(to(),Du=n,Ou.current=r,null!==Ru)throw Error(a(261));return Pu=null,Lu=0,ju}function Cs(){for(;null!==Ru;)Os(Ru)}function Ns(){for(;null!==Ru&&!xi();)Os(Ru)}function Os(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?As(e):Ru=t,Au.current=null}function As(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Ru=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Ru=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===ju&&(ju=5)}function Ds(e){var t=zi();return Hi(99,Ps.bind(null,e,t)),null}function Ps(e,t){do{Ls()}while(null!==es);if(0!==(48&Du))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<o;){var c=31-zt(o),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,o&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Pu&&(Ru=Pu=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Du,Du|=32,Au.current=null,Vr=Qt,vr(u=yr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(I){s=null;break e}var f=0,h=-1,d=-1,p=0,y=0,v=u,m=null;t:for(;;){for(var g;v!==s||0!==o&&3!==v.nodeType||(h=f+o),v!==c||0!==l&&3!==v.nodeType||(d=f+l),3===v.nodeType&&(f+=v.nodeValue.length),null!==(g=v.firstChild);)m=v,v=g;for(;;){if(v===u)break t;if(m===s&&++p===o&&(h=f),m===c&&++y===l&&(d=f),null!==(g=v.nextSibling))break;m=(v=m).parentNode}v=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;qr={focusedElem:u,selectionRange:s},Qt=!1,ls=null,fs=!1,$u=r;do{try{Rs()}catch(I){if(null===$u)throw Error(a(330));Vs($u,I),$u=$u.nextEffect}}while(null!==$u);ls=null,$u=r;do{try{for(u=e;null!==$u;){var b=$u.flags;if(16&b&&me($u.stateNode,""),128&b){var w=$u.alternate;if(null!==w){var E=w.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&b){case 2:_u($u),$u.flags&=-3;break;case 6:_u($u),$u.flags&=-3,Iu($u.alternate,$u);break;case 1024:$u.flags&=-1025;break;case 1028:$u.flags&=-1025,Iu($u.alternate,$u);break;case 4:Iu($u.alternate,$u);break;case 8:ku(u,s=$u);var _=s.alternate;wu(s),null!==_&&wu(_)}$u=$u.nextEffect}}catch(I){if(null===$u)throw Error(a(330));Vs($u,I),$u=$u.nextEffect}}while(null!==$u);if(E=qr,w=yr(),b=E.focusedElem,u=E.selectionRange,w!==b&&b&&b.ownerDocument&&pr(b.ownerDocument.documentElement,b)){null!==u&&vr(b)&&(w=u.start,void 0===(E=u.end)&&(E=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(E,b.value.length)):(E=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),s=b.textContent.length,_=Math.min(u.start,s),u=void 0===u.end?_:Math.min(u.end,s),!E.extend&&_>u&&(s=u,u=_,_=s),s=dr(b,_),o=dr(b,u),s&&o&&(1!==E.rangeCount||E.anchorNode!==s.node||E.anchorOffset!==s.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&((w=w.createRange()).setStart(s.node,s.offset),E.removeAllRanges(),_>u?(E.addRange(w),E.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),E.addRange(w))))),w=[];for(E=b;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(E=w[b]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Qt=!!Vr,qr=Vr=null,e.current=n,$u=r;do{try{for(b=e;null!==$u;){var S=$u.flags;if(36&S&&mu(b,$u.alternate,$u),128&S){w=void 0;var T=$u.ref;if(null!==T){var k=$u.stateNode;$u.tag,w=k,"function"===typeof T?T(w):T.current=w}}$u=$u.nextEffect}}catch(I){if(null===$u)throw Error(a(330));Vs($u,I),$u=$u.nextEffect}}while(null!==$u);$u=null,Fi(),Du=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for($u=r;null!==$u;)t=$u.nextEffect,$u.nextEffect=null,8&$u.flags&&((S=$u).sibling=null,S.stateNode=null),$u=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===as?os++:(os=0,as=e):os=0,n=n.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(I){}if(vs(e,Bi()),Yu)throw Yu=!1,e=Xu,Xu=null,e;return 0!==(8&Du)||Gi(),null}function Rs(){for(;null!==$u;){var e=$u.alternate;fs||null===ls||(0!==(8&$u.flags)?Ze($u,ls)&&(fs=!0):13===$u.tag&&Cu(e,$u)&&Ze($u,ls)&&(fs=!0));var t=$u.flags;0!==(256&t)&&vu(e,$u),0===(512&t)||Zu||(Zu=!0,Wi(97,(function(){return Ls(),null}))),$u=$u.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Hi(e,js)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Wi(97,(function(){return Ls(),null})))}function Fs(e,t){rs.push(t,e),Zu||(Zu=!0,Wi(97,(function(){return Ls(),null})))}function js(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Du))throw Error(a(331));var t=Du;Du|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===o)throw Error(a(330));Vs(o,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===o)throw Error(a(330));Vs(o,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Du=t,Gi(),!0}function Us(e,t,n){lo(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=ys(e,1))&&(Bt(e,1,t),vs(e,t))}function Vs(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=du(n,e=cu(t,e),1);if(lo(n,i),i=hs(),null!==(n=ys(n,1)))Bt(n,1,i),vs(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function qs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Lu&n)===n&&(4===ju||3===ju&&(62914560&Lu)===Lu&&500>Bi()-Hu?Ts(e,0):zu|=n),vs(e,t)}function Bs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===zi()?1:2:(0===ss&&(ss=Vu),0===(t=Vt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=ys(e,t))&&(Bt(e,t,n),vs(e,n))}function zs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(e,t,n,r){return new zs(e,t,n,r)}function Hs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ws(e,t){var n=e.alternate;return null===n?((n=Ks(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Hs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case T:return Qs(n.children,i,o,t);case M:u=8,i|=16;break;case k:u=8,i|=1;break;case I:return(e=Ks(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=o,e;case O:return(e=Ks(13,n,t,i)).type=O,e.elementType=O,e.lanes=o,e;case A:return(e=Ks(19,n,t,i)).elementType=A,e.lanes=o,e;case F:return $s(n,i,o,t);case j:return(e=Ks(24,n,t,i)).elementType=j,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:u=10;break e;case C:u=9;break e;case N:u=11;break e;case D:u=14;break e;case P:u=16,r=null;break e;case R:u=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ks(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Qs(e,t,n,r){return(e=Ks(7,e,r,t)).lanes=n,e}function $s(e,t,n,r){return(e=Ks(23,e,r,t)).elementType=F,e.lanes=n,e}function Ys(e,t,n){return(e=Ks(6,e,null,t)).lanes=n,e}function Xs(e,t,n){return(t=Ks(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n,r){var i=t.current,o=hs(),u=ds(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(vi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(a(171))}if(1===n.tag){var c=n.type;if(vi(c)){n=bi(n,c,s);break e}}n=s}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),lo(i,t),ps(i,u,o),u}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Ks(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,uo(t),e[Zr]=n.current,Ar(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=ec(a);u.call(e)}}Zs(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var s=i;i=function(){var e=ec(a);s.call(e)}}Es((function(){Zs(t,a,e,i)}))}return ec(a)}function ac(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||di.current)Ma=!0;else{if(0===(n&r)){switch(Ma=!1,t.tag){case 3:Wa(t),Go();break;case 5:Lo(t);break;case 1:vi(t.type)&&wi(t);break;case 4:Po(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;li(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ja(e,t,n):(li(Fo,1&Fo.current),null!==(t=ou(e,t,n))?t.sibling:null);li(Fo,1&Fo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(Fo,Fo.current),r)break;return null;case 23:case 24:return t.lanes=0,qa(e,t,n)}return ou(e,t,n)}Ma=0!==(16384&e.flags)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,hi.current),io(t,n),i=aa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&vo(t,r,u,e),i.updater=mo,t.stateNode=i,i._reactInternals=t,Eo(t,r,e,n),t=Ha(null,t,r,!0,o,n)}else t.tag=0,Fa(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Hs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===D)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=za(null,t,i,e,n);break e;case 1:t=Ka(null,t,i,e,n);break e;case 11:t=ja(null,t,i,e,n);break e;case 14:t=Ua(null,t,i,Yi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ka(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Wa(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,so(e,t),ho(t,r,null,n),(r=t.memoizedState.element)===i)Go(),t=ou(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Vo=Gr(t.stateNode.containerInfo.firstChild),Uo=t,o=qo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Qo.push(o);for(n=xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(e,t,r,n),Go();t=t.child}return t;case 5:return Lo(t),null===e&&Ko(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,zr(r,i)?u=null:null!==o&&zr(r,o)&&(t.flags|=16),Ba(e,t),Fa(e,t,u,n),t.child;case 6:return null===e&&Ko(t),null;case 13:return Ja(e,t,n);case 4:return Po(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Io(t,null,r,n):Fa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ja(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,o=i.value;var s=t.type._context;if(li(Xi,s._currentValue),s._currentValue=o,null!==u)if(s=u.value,0===(o=cr(s,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(u.children===i.children&&!di.current){t=ou(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===s.tag&&((l=co(-1,n&-n)).tag=2,lo(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ro(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Fa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,Fa(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),Ua(e,t,i,o=Yi(i.type,o),r,n);case 15:return Va(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,vi(r)?(e=!0,wi(t)):e=!1,io(t,n),bo(t,r,i),Eo(t,r,i,n),Ha(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return qa(e,t,n)}throw Error(a(156,t.tag))},rc.prototype.render=function(e){Zs(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zs(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(ps(e,4,hs()),nc(e,4))},tt=function(e){13===e.tag&&(ps(e,67108864,hs()),nc(e,67108864))},nt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),nc(e,n)}},rt=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(a(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},De=ws,Pe=function(e,t,n,r,i){var o=Du;Du|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Du=o)&&(Gu(),Gi())}},Re=function(){0===(49&Du)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vs(e,Bi())}))}Gi()}(),Ls())},Le=function(e,t){var n=Du;Du|=2;try{return e(t)}finally{0===(Du=n)&&(Gu(),Gi())}};var uc={Events:[ni,ri,ii,Oe,Ae,Ls,{current:!1}]},sc={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cc={bundleType:sc.bundleType,version:sc.version,rendererPackageName:sc.rendererPackageName,rendererConfig:sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:sc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{_i=lc.inject(cc),Si=lc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=ac,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Du;if(0!==(48&n))return e(t);Du|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Du=n,Gi()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(a(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(a(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(a(40));return!!e._reactRootContainer&&(Es((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=ws,t.unstable_createPortal=function(e,t){return ac(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case u:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case v:case y:case s:return e;default:return t}}case i:return t}}}function _(e){return E(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=v,t.Memo=y,t.Portal=i,t.Profiler=u,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||E(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return E(e)===c},t.isContextProvider=function(e){return E(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===h},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===v},t.isMemo=function(e){return E(e)===y},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===u},t.isStrictMode=function(e){return E(e)===a},t.isSuspense=function(e){return E(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===u||e===a||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===y||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===b||e.$$typeof===w||e.$$typeof===m)},t.typeOf=E},441:function(e,t,n){"use strict";e.exports=n(372)},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return u(o(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(a,d),a=d+f.length,h)u+=h[1];else{var p=e[a],y=n[2],v=n[3],m=n[4],g=n[5],b=n[6],w=n[7];u&&(r.push(u),u="");var E=null!=y&&null!=p&&p!==y,_="+"===b||"*"===b,S="?"===b||"*"===b,T=n[2]||l,k=m||g;r.push({name:v||o++,prefix:y||"",delimiter:T,optional:S,repeat:_,partial:E,asterisk:!!w,pattern:k?c(k):w?".*":"[^"+s(T)+"]+?"})}}return a<e.length&&(u+=e.substr(a)),u&&r.push(u),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",u=t||{},s=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)a+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),a+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),y=a.slice(-p.length)===p;return i||(a=(y?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&y?"":"(?="+p+"|$)",l(new RegExp("^"+a,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(o(e,n),t,n)}(e,t,n)}},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=v.prototype;var b=g.prototype=new m;b.constructor=g,r(b,v.prototype),b.isPureReactComponent=!0;var w={current:null},E=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},a=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&!_.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:i,type:e,key:a,ref:u,props:o,_owner:w.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var k=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,n,r,a){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case o:s=!0}}if(s)return a=a(s=e),e=""===r?"."+I(s,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(k,"$&/")+"/"),x(a,t,n,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(u=e[c],c);s+=x(u,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=x(u=u.value,t,n,l=r+I(u,c++),a);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var O={current:null};function A(){var e=O.current;if(null===e)throw Error(d(321));return e}var D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(d(143));return e}},t.Component=v,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),a=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)E.call(t,l)&&!_.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:u,props:o,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,v=null,m=-1,g=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();b=e+g;try{v(!0,e)?E.postMessage(null):(y=!1,v=null)}catch(n){throw E.postMessage(null),n}}else y=!1},n=function(e){v=e,y||(y=!0,E.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],u=o+1,s=e[u];if(void 0!==a&&0>k(a,n))void 0!==s&&0>k(s,a)?(e[r]=s,e[u]=n,r=u):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==s&&0>k(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],x=[],C=1,N=null,O=3,A=!1,D=!1,P=!1;function R(e){for(var t=S(x);null!==t;){if(null===t.callback)T(x);else{if(!(t.startTime<=e))break;T(x),t.sortIndex=t.expirationTime,_(I,t)}t=S(x)}}function L(e){if(P=!1,R(e),!D)if(null!==S(I))D=!0,n(M);else{var t=S(x);null!==t&&r(L,t.startTime-e)}}function M(e,n){D=!1,P&&(P=!1,i()),A=!0;var o=O;try{for(R(n),N=S(I);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=N.callback;if("function"===typeof a){N.callback=null,O=N.priorityLevel;var u=a(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?N.callback=u:N===S(I)&&T(I),R(n)}else T(I);N=S(I)}if(null!==N)var s=!0;else{var c=S(x);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{N=null,O=o,A=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||A||(D=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return O},t.unstable_getFirstCallbackNode=function(){return S(I)},t.unstable_next=function(e){switch(O){case 1:case 2:case 3:var t=3;break;default:t=O}var n=O;O=t;try{return e()}finally{O=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=O;O=e;try{return t()}finally{O=n}},t.unstable_scheduleCallback=function(e,o,a){var u=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?u+a:u:a=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>u?(e.sortIndex=a,_(x,e),null===S(I)&&e===S(x)&&(P?i():P=!0,r(L,a-u))):(e.sortIndex=s,_(I,e),D||A||(D=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=O;return function(){var n=O;O=t;try{return e.apply(this,arguments)}finally{O=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",function(){"use strict";var e=n(791),t=n(164);function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e){return"/"===e.charAt(0)}function u(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var s=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&a(e),s=t&&a(t),c=o||s;if(e&&a(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=i.length;h>=0;h--){var d=i[h];"."===d?u(i,h):".."===d?(u(i,h),f++):f&&(u(i,h),f--)}if(!c)for(;f--;f)i.unshift("..");!c||""===i[0]||i[0]&&a(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p},c=!0,l="Invariant failed";function f(e,t){if(!e){if(c)throw new Error(l);var n="function"===typeof t?t():t,r=n?"".concat(l,": ").concat(n):l;throw new Error(r)}}function h(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function p(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function y(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function v(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function m(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=o({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(Hy){throw Hy instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):Hy}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=s(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function g(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var b=!("undefined"===typeof window||!window.document||!window.document.createElement);function w(e,t){t(window.confirm(e))}var E="popstate",_="hashchange";function S(){try{return window.history.state||{}}catch(Hy){return{}}}function T(e){void 0===e&&(e={}),b||f(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,u=void 0!==a&&a,s=i.getUserConfirmation,c=void 0===s?w:s,l=i.keyLength,d=void 0===l?6:l,T=e.basename?y(h(e.basename)):"";function k(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return T&&(o=p(o,T)),m(o,r,n)}function I(){return Math.random().toString(36).substr(2,d)}var x=g();function C(e){o(V,e),V.length=t.length,x.notifyListeners(V.location,V.action)}function N(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||D(k(e.state))}function O(){D(k(S()))}var A=!1;function D(e){if(A)A=!1,C();else{x.confirmTransitionTo(e,"POP",c,(function(t){t?C({action:"POP",location:e}):function(e){var t=V.location,n=R.indexOf(t.key);-1===n&&(n=0);var r=R.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(A=!0,M(i))}(e)}))}}var P=k(S()),R=[P.key];function L(e){return T+v(e)}function M(e){t.go(e)}var F=0;function j(e){1===(F+=e)&&1===e?(window.addEventListener(E,N),r&&window.addEventListener(_,O)):0===F&&(window.removeEventListener(E,N),r&&window.removeEventListener(_,O))}var U=!1;var V={length:t.length,action:"POP",location:P,createHref:L,push:function(e,r){var i="PUSH",o=m(e,r,I(),V.location);x.confirmTransitionTo(o,i,c,(function(e){if(e){var r=L(o),a=o.key,s=o.state;if(n)if(t.pushState({key:a,state:s},null,r),u)window.location.href=r;else{var c=R.indexOf(V.location.key),l=R.slice(0,c+1);l.push(o.key),R=l,C({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=m(e,r,I(),V.location);x.confirmTransitionTo(o,i,c,(function(e){if(e){var r=L(o),a=o.key,s=o.state;if(n)if(t.replaceState({key:a,state:s},null,r),u)window.location.replace(r);else{var c=R.indexOf(V.location.key);-1!==c&&(R[c]=o.key),C({action:i,location:o})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return U||(j(1),U=!0),function(){return U&&(U=!1,j(-1)),t()}},listen:function(e){var t=x.appendListener(e);return j(1),function(){j(-1),t()}}};return V}var k="hashchange",I={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:h},slash:{encodePath:h,decodePath:h}};function x(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function C(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function N(e){window.location.replace(x(window.location.href)+"#"+e)}function O(e){void 0===e&&{},b||f(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?w:r,a=n.hashType,u=void 0===a?"slash":a,s=e.basename?y(h(e.basename)):"",c=I[u],l=c.encodePath,d=c.decodePath;function E(){var e=d(C());return s&&p(e,s),m(e)}var _=g();function S(e){o(V,e),V.length=t.length,_.notifyListeners(V.location,V.action)}var T=!1,O=null;function A(){var e,t,n=C(),r=l(n);if(n!==r)N(r);else{var o=E(),a=V.location;if(!T&&(o,a.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(O===v(o))return;null,function(e){if(T)!1,S();else{var t="POP";_.confirmTransitionTo(e,t,i,(function(n){n?S({action:t,location:e}):function(e){var t=V.location,n=L.lastIndexOf(v(t));-1===n&&0;var r=L.lastIndexOf(v(e));-1===r&&0;var i=n-r;i&&(!0,M(i))}(e)}))}}(o)}}var D=C(),P=l(D);D!==P&&N(P);var R=E(),L=[v(R)];function M(e){t.go(e)}var F=0;function j(e){1===(F+=e)&&1===e?window.addEventListener(k,A):0===F&&window.removeEventListener(k,A)}var U=!1;var V={length:t.length,action:"POP",location:R,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&x(window.location.href),n+"#"+l(s+v(e))},push:function(e,t){var n="PUSH",r=m(e,void 0,void 0,V.location);_.confirmTransitionTo(r,n,i,(function(e){if(e){var t=v(r),i=l(s+t);if(C()!==i){t,function(e){window.location.hash=e}(i);var o=L.lastIndexOf(v(V.location)),a=L.slice(0,o+1);a.push(t),a,S({action:n,location:r})}else S()}}))},replace:function(e,t){var n="REPLACE",r=m(e,void 0,void 0,V.location);_.confirmTransitionTo(r,n,i,(function(e){if(e){var t=v(r),i=l(s+t);C()!==i&&(t,N(i));var o=L.indexOf(v(V.location));-1!==o&&(L[o]=t),S({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&!1;var t=_.setPrompt(e);return U||(j(1),!0),function(){return U&&(!1,j(-1)),t()}},listen:function(e){var t=_.appendListener(e);return j(1),function(){j(-1),t()}}};return V}function A(e,t,n){return Math.min(Math.max(e,t),n)}var D=n(7),P=n.n(D),R=1073741823,L="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var M=e.createContext||function(t,n){var r,o,a="__create-react-context-"+function(){var e="__global_unique_id__";return L[e]=(L[e]||0)+1}()+"__",u=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}i(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):R,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(e.Component);u.childContextTypes=((r={})[a]=P().object.isRequired,r);var s=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}i(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?R:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?R:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():t},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(e.Component);return s.contextTypes=((o={})[a]=P().object,o),{Provider:u,Consumer:s}},F=M,j=n(239),U=n.n(j);n(441);function V(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(110);var q=function(e){var t=F();return t.displayName=e,t},B=q("Router"),z=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}i(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&this.unlisten()},r.render=function(){return e.createElement(B.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},n}(e.Component);e.Component;e.Component;var K={},H=1e4,W=0;function G(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,u=void 0!==a&&a,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=K[n]||(K[n]={});if(r[e])return r[e];var i=[],o={regexp:U()(e,i,t),keys:i};return W<H&&(r[e]=o,W++),o}(n,{end:o,strict:u,sensitive:c}),i=r.regexp,a=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return o&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:a.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var Q=function(t){function n(){return t.apply(this,arguments)||this}return i(n,t),n.prototype.render=function(){var t=this;return e.createElement(B.Consumer,null,(function(n){n||f(!1);var r=t.props.location||n.location,i=o({},n,{location:r,match:t.props.computedMatch?t.props.computedMatch:t.props.path?G(r.pathname,t.props):n.match}),a=t.props,u=a.children,s=a.component,c=a.render;return Array.isArray(u)&&0===u.length&&(u=null),e.createElement(B.Provider,{value:i},i.match?u?"function"===typeof u?u(i):u:s?e.createElement(s,i):c?c(i):null:"function"===typeof u?u(i):null)}))},n}(e.Component);function $(e){return"/"===e.charAt(0)?e:"/"+e}function Y(e,t){if(!e)return t;var n=$(e);return 0!==t.pathname.indexOf(n)?t:o({},t,{pathname:t.pathname.substr(n.length)})}function X(e){return"string"===typeof e?e:v(e)}function J(e){return function(){f(!1)}}function Z(){}e.Component;var ee=function(t){function n(){return t.apply(this,arguments)||this}return i(n,t),n.prototype.render=function(){var t=this;return e.createElement(B.Consumer,null,(function(n){n||f(!1);var r,i,a=t.props.location||n.location;return e.Children.forEach(t.props.children,(function(t){if(null==i&&e.isValidElement(t)){r=t;var u=t.props.path||t.props.from;i=u?G(a.pathname,o({},t.props,{path:u})):n.match}})),i?e.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(e.Component);var te=e.useContext;function ne(){return te(B).history}function re(){return te(B).location}var ie=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).history=T(e.props),e}return i(n,t),n.prototype.render=function(){return e.createElement(z,{history:this.history,children:this.props.children})},n}(e.Component);e.Component;var oe=function(e,t){return"function"===typeof e?e(t):e},ae=function(e,t){return"string"===typeof e?m(e,null,null,t):e},ue=function(e){return e},se=e.forwardRef;"undefined"===typeof se&&(se=ue);var ce=se((function(t,n){var r=t.innerRef,i=t.navigate,a=t.onClick,u=V(t,["innerRef","navigate","onClick"]),s=u.target,c=o({},u,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return c.ref=ue!==se&&n||r,e.createElement("a",c)}));var le=se((function(t,n){var r=t.component,i=void 0===r?ce:r,a=t.replace,u=t.to,s=t.innerRef,c=V(t,["component","replace","to","innerRef"]);return e.createElement(B.Consumer,null,(function(t){t||f(!1);var r=t.history,l=ae(oe(u,t.location),t.location),h=l?r.createHref(l):"",d=o({},c,{href:h,navigate:function(){var e=oe(u,t.location);(a?r.replace:r.push)(e)}});return ue!==se?d.ref=n||s:d.innerRef=s,e.createElement(i,d)}))})),fe=function(e){return e},he=e.forwardRef;"undefined"===typeof he&&(he=fe);he((function(t,n){var r=t["aria-current"],i=void 0===r?"page":r,a=t.activeClassName,u=void 0===a?"active":a,s=t.activeStyle,c=t.className,l=t.exact,h=t.isActive,d=t.location,p=t.strict,y=t.style,v=t.to,m=t.innerRef,g=V(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return e.createElement(B.Consumer,null,(function(t){t||f(!1);var r=d||t.location,a=ae(oe(v,r),r),b=a.pathname,w=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),E=w?G(r.pathname,{path:w,exact:l,strict:p}):null,_=!!(h?h(E,r):E),S=_?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(c,u):c,T=_?o({},y,{},s):y,k=o({"aria-current":_&&i||null,className:S,style:T,to:a},g);return fe!==he?k.ref=n||m:k.innerRef=m,e.createElement(le,k)}))}));function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t){if(e){if("string"===typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?de(e,t):void 0}}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return u}}(e,t)||pe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function me(e){var t=function(e,t){if("object"!==ve(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ve(t)?t:String(t)}function ge(e,t,n){return(t=me(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee=n(184),_e=(0,e.createContext)(),Se=function(e,t){switch(t.type){case"CHANGE_COLOR":return we(we({},e),{},{color:t.payload});case"CHANGE_MODE":return we(we({},e),{},{mode:t.payload});default:return e}};function Te(t){var n=t.children,r=ye((0,e.useReducer)(Se,{color:"#58249c",mode:"light"}),2),i=r[0],o=r[1];return(0,Ee.jsx)(_e.Provider,{value:we(we({},i),{},{changeColor:function(e){o({type:"CHANGE_COLOR",payload:e})},changeMode:function(e){o({type:"CHANGE_MODE",payload:e})}}),children:n})}var ke=function(){var t=(0,e.useContext)(_e);if(void 0===t)throw new Error("useTheme() must be used inside a ThemeProvider");return t};function Ie(){var t=ye((0,e.useState)(""),2),n=t[0],r=t[1],i=ne();return(0,Ee.jsx)("div",{className:"searchbar",children:(0,Ee.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i.push("/search?q=".concat(n))},children:[(0,Ee.jsx)("label",{htmlFor:"search",children:"Search:"}),(0,Ee.jsx)("input",{type:"text",id:"search",onChange:function(e){return r(e.target.value)},required:!0})]})})}function xe(){var e=ke(),t=e.color;e.changeColor;return(0,Ee.jsx)("div",{className:"navbar",style:{background:t},children:(0,Ee.jsxs)("nav",{children:[(0,Ee.jsx)(le,{to:"/",className:"brand",children:(0,Ee.jsx)("h2",{children:"That Girl"})}),(0,Ee.jsx)(Ie,{}),(0,Ee.jsx)(le,{to:"/create",children:(0,Ee.jsx)("p",{children:"Write Confession"})})]})})}var Ce=function(e,t){return Ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ce(e,t)};function Ne(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ce(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Oe=function(){return Oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Oe.apply(this,arguments)};function Ae(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(Hy){o(Hy)}}function u(e){try{s(r.throw(e))}catch(Hy){o(Hy)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))}function De(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(s){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){a=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(6===u[0]&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=t.call(e,a)}catch(Hy){u=[6,Hy],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,s])}}}Object.create;function Pe(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Re(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Le(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Me=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,u=a?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=o>>2,f=(3&o)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Me(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(u=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==s)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==u){var l=a<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};function je(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Ue(n)&&(e[n]=je(e[n],t[n]));return e}function Ue(e){return"__proto__"!==e}var Ve=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function qe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Be(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Hy){return!1}}var ze=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,Ke.prototype.create),o}return Ne(t,e),t}(Error),Ke=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?function(e,t){return e.replace(He,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}(o,r):"Error",u=this.serviceName+": "+a+" ("+i+").";return new ze(i,u,r)},e}();var He=/\{\$([^}]+)}/g;function We(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,u=this.chain_[0],s=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^s&(c^l),a=1518500249):(o=s^c^l,a=1859775393):r<60?(o=s&c|l&(s|c),a=2400959708):(o=s^c^l,a=3395469782);i=(u<<5|u>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(s<<30|s>>>2),s=u,u=i}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function Ge(e,t){var n=new Qe(e,t);return n.subscribe.bind(n)}var Qe=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=$e),void 0===r.error&&(r.error=$e),void 0===r.complete&&(r.complete=$e);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(Hy){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(Hy){"undefined"!==typeof console&&console.error&&console.error(Hy)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function $e(){}function Ye(e){return e&&e._delegate?e._delegate:e}var Xe=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),Je="[DEFAULT]",Ze=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return e.prototype.get=function(e){void 0===e&&(e=Je);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ve;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(Hy){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=Oe({identifier:Je,optional:!1},e),n=t.identifier,r=t.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(Hy){if(r)return null;throw Hy}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Je})}catch(Hy){}try{for(var r=Pe(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Re(i.value,2),a=o[0],u=o[1],s=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:s});u.resolve(c)}catch(Hy){}}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=Je),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Ae(this,void 0,void 0,(function(){var e;return De(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Le(Le([],Re(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Re(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=Je),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.instanceIdentifier,i=void 0===r?Je:r,o=e.options,a=void 0===o?{}:o,u=this.normalizeInstanceIdentifier(i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var c=Pe(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var f=Re(l.value,2),h=f[0],d=f[1];u===this.normalizeInstanceIdentifier(h)&&d.resolve(s)}}catch(p){t={error:p}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return this.invokeOnInitCallbacks(s,u),s},e.prototype.onInit=function(e){var t=this;return this.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r;try{for(var i=Pe(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(e,t)}catch(u){}}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Je?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(Ny){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:Je:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var et,tt=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ze(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function nt(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r}var rt,it=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(rt||(rt={}));var ot,at={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},ut=rt.INFO,st=((et={})[rt.DEBUG]="log",et[rt.VERBOSE]="log",et[rt.INFO]="info",et[rt.WARN]="warn",et[rt.ERROR]="error",et),ct=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=st[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,nt(["["+i+"]  "+e.name+":"],n))}},lt=function(){function e(e){this.name=e,this._logLevel=ut,this._logHandler=ct,this._userLogHandler=null,it.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in rt))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?at[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,nt([this,rt.DEBUG],e)),this._logHandler.apply(this,nt([this,rt.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,nt([this,rt.VERBOSE],e)),this._logHandler.apply(this,nt([this,rt.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,nt([this,rt.INFO],e)),this._logHandler.apply(this,nt([this,rt.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,nt([this,rt.WARN],e)),this._logHandler.apply(this,nt([this,rt.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,nt([this,rt.ERROR],e)),this._logHandler.apply(this,nt([this,rt.ERROR],e))},e}();function ft(e){it.forEach((function(t){t.setLogLevel(e)}))}var ht,dt=((ot={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ot["bad-app-name"]="Illegal App name: '{$appName}",ot["duplicate-app"]="Firebase App named '{$appName}' already exists",ot["app-deleted"]="Firebase App named '{$appName}' already deleted",ot["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ot["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ot),pt=new Ke("app","Firebase",dt),yt="@firebase/app",vt="[DEFAULT]",mt=((ht={})[yt]="fire-core",ht["@firebase/analytics"]="fire-analytics",ht["@firebase/app-check"]="fire-app-check",ht["@firebase/auth"]="fire-auth",ht["@firebase/database"]="fire-rtdb",ht["@firebase/functions"]="fire-fn",ht["@firebase/installations"]="fire-iid",ht["@firebase/messaging"]="fire-fcm",ht["@firebase/performance"]="fire-perf",ht["@firebase/remote-config"]="fire-rc",ht["@firebase/storage"]="fire-gcs",ht["@firebase/firestore"]="fire-fst",ht["fire-js"]="fire-js",ht["firebase-wrapper"]="fire-js-all",ht),gt=new lt("@firebase/app"),bt=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=je(void 0,e),this.container=new tt(t.name),this._addComponent(new Xe("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=vt),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=vt),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(Hy){gt.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,Hy)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw pt.create("app-deleted",{appName:this.name_})},e}();bt.prototype.name&&bt.prototype.options||bt.prototype.delete||console.log("dc");var wt="8.5.0";function Et(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=vt);var a=o.name;if("string"!==typeof a||!a)throw pt.create("bad-app-name",{appName:String(a)});if(We(t,a))throw pt.create("duplicate-app",{appName:a});var u=new e(n,o,r);return t[a]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=mt[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var s=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&s.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&s.push("and"),u&&s.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void gt.warn(s.join(" "))}o(new Xe(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:ft,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw pt.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=at[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:rt[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=it;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:wt,INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!We(t,e=e||vt))throw pt.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return gt.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[a])throw pt.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&je(u,o.serviceProps),r[a]=u,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,a).apply(this,o.multipleInstances?e:[])}}for(var s=0,c=Object.keys(t);s<c.length;s++){var l=c[s];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}var _t=function e(){var t=Et(bt);return t.INTERNAL=Oe(Oe({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){je(t,e)},createSubscribe:Ge,ErrorFactory:Ke,deepExtend:je}),t}(),St=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if("object"===typeof self&&self.self===self&&void 0!==self.firebase){gt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Tt=self.firebase.SDK_VERSION;Tt&&Tt.indexOf("LITE")>=0&&gt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var kt=_t.initializeApp;_t.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Be()&&gt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),kt.apply(void 0,e)};var It=_t;!function(e,t){e.INTERNAL.registerComponent(new Xe("platform-logger",(function(e){return new St(e)}),"PRIVATE")),e.registerVersion(yt,"0.6.21",t),e.registerVersion("fire-js","")}(It);var xt=It;xt.registerVersion("firebase","8.5.0","app");var Ct=function(e,t){return Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ct(e,t)};function Nt(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ot,At="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Dt=Dt||{},Pt=At||self;function Rt(){}function Lt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Mt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ft="closure_uid_"+(1e9*Math.random()>>>0),jt=0;function Ut(e,t,n){return e.call.apply(e.bind,arguments)}function Vt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function qt(e,t,n){return(qt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ut:Vt).apply(null,arguments)}function Bt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function zt(){return Date.now()}function Kt(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Ht(){this.j=this.j,this.i=this.i}Ht.prototype.j=!1,Ht.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(e){Object.prototype.hasOwnProperty.call(e,Ft)&&e[Ft]||(e[Ft]=++jt)})(this)},Ht.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Wt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Gt=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Qt(e){return Array.prototype.concat.apply([],arguments)}function $t(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Yt(e){return/^[\s\xa0]*$/.test(e)}var Xt,Jt=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Zt(e,t){return-1!=e.indexOf(t)}function en(e,t){return e<t?-1:e>t?1:0}e:{var tn=Pt.navigator;if(tn){var nn=tn.userAgent;if(nn){Xt=nn;break e}}Xt=""}function rn(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function on(e){var t={};for(var n in e)t[n]=e[n];return t}var an="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function un(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<an.length;o++)n=an[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function sn(e){return sn[" "](e),e}sn[" "]=Rt;var cn,ln=Zt(Xt,"Opera"),fn=Zt(Xt,"Trident")||Zt(Xt,"MSIE"),hn=Zt(Xt,"Edge"),dn=hn||fn,pn=Zt(Xt,"Gecko")&&!(Zt(Xt.toLowerCase(),"webkit")&&!Zt(Xt,"Edge"))&&!(Zt(Xt,"Trident")||Zt(Xt,"MSIE"))&&!Zt(Xt,"Edge"),yn=Zt(Xt.toLowerCase(),"webkit")&&!Zt(Xt,"Edge");function vn(){var e=Pt.document;return e?e.documentMode:void 0}e:{var mn="",gn=function(){var e=Xt;return pn?/rv:([^\);]+)(\)|;)/.exec(e):hn?/Edge\/([\d\.]+)/.exec(e):fn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):yn?/WebKit\/(\S+)/.exec(e):ln?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(gn&&(mn=gn?gn[1]:""),fn){var bn=vn();if(null!=bn&&bn>parseFloat(mn)){cn=String(bn);break e}}cn=mn}var wn,En={};function _n(e){return function(e,t){var n=En;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=Jt(String(cn)).split("."),r=Jt(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",u=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==a[0].length&&0==u[0].length)break;t=en(0==a[1].length?0:parseInt(a[1],10),0==u[1].length?0:parseInt(u[1],10))||en(0==a[2].length,0==u[2].length)||en(a[2],u[2]),a=a[3],u=u[3]}while(0==t)}return 0<=t}))}if(Pt.document&&fn){var Sn=vn();wn=Sn||(parseInt(cn,10)||void 0)}else wn=void 0;var Tn=wn,kn=!fn||9<=Number(Tn),In=fn&&!_n("9"),xn=function(){if(!Pt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Pt.addEventListener("test",Rt,t),Pt.removeEventListener("test",Rt,t)}catch(n){}return e}();function Cn(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function Nn(e,t){if(Cn.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(pn){e:{try{sn(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:On[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}Cn.prototype.b=function(){this.defaultPrevented=!0},Kt(Nn,Cn);var On={2:"touch",3:"pen",4:"mouse"};Nn.prototype.b=function(){Nn.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,In)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var An="closure_listenable_"+(1e6*Math.random()|0),Dn=0;function Pn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++Dn,this.Y=this.Z=!1}function Rn(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function Ln(e){this.src=e,this.a={},this.b=0}function Mn(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=Wt(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Rn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function Fn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}Ln.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Fn(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new Pn(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var jn="closure_lm_"+(1e6*Math.random()|0),Un={};function Vn(e,t,n,r,i){if(r&&r.once)return Bn(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Vn(e,t[o],n,r,i);return null}return n=Yn(n),e&&e[An]?e.va(t,n,Mt(r)?!!r.capture:!!r,i):qn(e,t,n,!1,r,i)}function qn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Mt(i)?!!i.capture:!!i;if(a&&!kn)return null;var u=Qn(e);if(u||(e[jn]=u=new Ln(e)),(n=u.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Gn,t=kn?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)xn||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Hn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Bn(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Bn(e,t[o],n,r,i);return null}return n=Yn(n),e&&e[An]?e.wa(t,n,Mt(r)?!!r.capture:!!r,i):qn(e,t,n,!0,r,i)}function zn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)zn(e,t[o],n,r,i);else r=Mt(r)?!!r.capture:!!r,n=Yn(n),e&&e[An]?(e=e.c,(t=String(t).toString())in e.a&&(-1<(n=Fn(o=e.a[t],n,r,i))&&(Rn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=Qn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Fn(t,n,r,i)),(n=-1<e?t[e]:null)&&Kn(n))}function Kn(e){if("number"!==typeof e&&e&&!e.Y){var t=e.src;if(t&&t[An])Mn(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Hn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Qn(t))?(Mn(n,e),0==n.b&&(n.src=null,t[jn]=null)):Rn(e)}}}function Hn(e){return e in Un?Un[e]:Un[e]="on"+e}function Wn(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&Kn(e),n.call(r,t)}function Gn(e,t){if(e.Y)return!0;if(!kn){if(!t)e:{t=["window","event"];for(var n=Pt,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return Wn(e,t=new Nn(t,this))}return Wn(e,new Nn(t,this))}function Qn(e){return(e=e[jn])instanceof Ln?e:null}var $n="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yn(e){return"function"===typeof e?e:(e[$n]||(e[$n]=function(t){return e.handleEvent(t)}),e[$n])}function Xn(){Ht.call(this),this.c=new Ln(this),this.J=this,this.C=null}function Jn(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"===typeof t)t=new Cn(t,e);else if(t instanceof Cn)t.target=t.target||e;else{var i=t;un(t=new Cn(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=Zn(a,r,!0,t)&&i}if(i=Zn(a=t.a=e,r,!0,t)&&i,i=Zn(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Zn(a=t.a=n[o],r,!1,t)&&i}function Zn(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var u=a.listener,s=a.ca||a.src;a.Z&&Mn(e.c,a),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Kt(Xn,Ht),Xn.prototype[An]=!0,(Ot=Xn.prototype).addEventListener=function(e,t,n,r){Vn(this,e,t,n,r)},Ot.removeEventListener=function(e,t,n,r){zn(this,e,t,n,r)},Ot.G=function(){if(Xn.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Rn(n[r]);delete t.a[e],t.b--}}this.C=null},Ot.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},Ot.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var er=Pt.JSON.stringify;function tr(){this.b=this.a=null}var nr,rr=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new or}),(function(e){e.reset()}));function ir(){var e=cr,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function or(){this.next=this.b=this.a=null}function ar(e){Pt.setTimeout((function(){throw e}),0)}function ur(e,t){nr||function(){var e=Pt.Promise.resolve(void 0);nr=function(){e.then(lr)}}(),sr||(nr(),sr=!0),cr.add(e,t)}tr.prototype.add=function(e,t){var n=rr.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},or.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},or.prototype.reset=function(){this.next=this.b=this.a=null};var sr=!1,cr=new tr;function lr(){for(var e;e=ir();){try{e.a.call(e.b)}catch(n){ar(n)}var t=rr;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}sr=!1}function fr(e,t){Xn.call(this),this.b=e||1,this.a=t||Pt,this.f=qt(this.Za,this),this.g=zt()}function hr(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function dr(e,t,n){if("function"===typeof e)n&&(e=qt(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=qt(e.handleEvent,e)}return 2147483647<Number(t)?-1:Pt.setTimeout(e,t||0)}function pr(e){e.a=dr((function(){e.a=null,e.c&&(e.c=!1,pr(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}Kt(fr,Xn),(Ot=fr.prototype).aa=!1,Ot.M=null,Ot.Za=function(){if(this.aa){var e=zt()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Jn(this,"tick"),this.aa&&(hr(this),this.start()))}},Ot.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=zt())},Ot.G=function(){fr.X.G.call(this),hr(this),delete this.a};var yr=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}Ct(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:pr(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(Pt.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(Ht);function vr(e){Ht.call(this),this.b=e,this.a={}}Kt(vr,Ht);var mr=[];function gr(e,t,n,r){Array.isArray(n)||(n&&(mr[0]=n.toString()),n=mr);for(var i=0;i<n.length;i++){var o=Vn(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function br(e){rn(e.a,(function(e,t){this.a.hasOwnProperty(t)&&Kn(e)}),e),e.a={}}function wr(){this.a=!0}function Er(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return er(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}vr.prototype.G=function(){vr.X.G.call(this),br(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wr.prototype.info=function(){};var _r={},Sr=null;function Tr(){return Sr=Sr||new Xn}function kr(e){Cn.call(this,_r.Fa,e)}function Ir(e){var t=Tr();Jn(t,new kr(t,e))}function xr(e,t){Cn.call(this,_r.STAT_EVENT,e),this.stat=t}function Cr(e){var t=Tr();Jn(t,new xr(t,e))}function Nr(e){Cn.call(this,_r.Ga,e)}function Or(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Pt.setTimeout((function(){e()}),t)}_r.Fa="serverreachability",Kt(kr,Cn),_r.STAT_EVENT="statevent",Kt(xr,Cn),_r.Ga="timingevent",Kt(Nr,Cn);var Ar={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Dr={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Pr(){}function Rr(e){var t;return(t=e.a)||(t=e.a={}),t}function Lr(){}Pr.prototype.a=null;var Mr,Fr={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function jr(){Cn.call(this,"d")}function Ur(){Cn.call(this,"c")}function Vr(){}function qr(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new vr(this),this.P=Br,e=dn?125:void 0,this.R=new fr(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Kt(jr,Cn),Kt(Ur,Cn),Kt(Vr,Pr),Mr=new Vr;var Br=45e3,zr={},Kr={};function Hr(e,t,n){e.H=1,e.i=di(ui(t)),e.j=n,e.I=!0,Wr(e,null)}function Wr(e,t){e.u=zt(),$r(e),e.l=ui(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),Ii(n.b,"t",r),e.D=0,e.a=Eo(e.g,e.g.C?t:null),0<e.O&&(e.F=new yr(qt(e.Ca,e,e.a),e.O)),gr(e.J,e.a,"readystatechange",e.Xa),t=e.B?on(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),Ir(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",u=o.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function Gr(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=Qr(e,n);if(i==Kr){4==t&&(e.h=4,Cr(14),r=!1),Er(e.c,e.f,null,"[Incomplete Response]");break}if(i==zr){e.h=4,Cr(15),Er(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Er(e.c,e.f,i,null),ei(e,i)}4==t&&0==n.length&&(e.h=1,Cr(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ho(t),t.F=!0,Cr(11))):(Er(e.c,e.f,n,"[Invalid Chunked Response]"),Zr(e),Jr(e))}function Qr(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?Kr:(n=Number(t.substring(n,r)),isNaN(n)?zr:(r+=1)+n>t.length?Kr:(t=t.substr(r,n),e.D=r+n,t))}function $r(e){e.T=zt()+e.P,Yr(e,e.P)}function Yr(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=Or(qt(e.Va,e),t)}function Xr(e){e.o&&(Pt.clearTimeout(e.o),e.o=null)}function Jr(e){0==e.g.v||e.A||vo(e.g,e)}function Zr(e){Xr(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,hr(e.R),br(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function ei(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||Pi(n.b,e)))if(n.I=e.N,!e.C&&Pi(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(ay){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;yo(n),ro(n)}fo(n),Cr(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Or(qt(n.Sa,n),6e3));if(1>=Di(n.b)&&n.ea){try{n.ea()}catch(ay){}n.ea=void 0}}else go(n,11)}else if((e.C||n.a==e)&&yo(n),!Yt(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"===typeof u&&0<u){var s=1.5*u;n.D=s,n.c.info("backChannelRequestTimeoutMs_="+s)}s=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=s.b;!f.a&&(Zt(l,"spdy")||Zt(l,"quic")||Zt(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(Ri(f,f.b),f.b=null))}if(s.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(s.na=h,hi(s.B,s.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=zt()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((s=n).la=wo(s,s.C?s.ga:null,s.fa),d.C){Li(s.b,d);var p=d,y=s.D;y&&p.setTimeout(y),p.o&&(Xr(p),$r(p)),s.a=d}else lo(s);0<n.g.length&&ao(n)}else"stop"!=i[0]&&"close"!=i[0]||go(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?go(n,7):no(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Ir(4)}catch(ay){}}function ti(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Lt(e)||"string"===typeof e)Gt(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(Lt(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"===typeof e)return e.split("");if(Lt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function ni(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ni)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ri(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];ii(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)ii(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function ii(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Ot=qr.prototype).setTimeout=function(e){this.P=e},Ot.Xa=function(e){e=e.target;var t=this.F;t&&3==Ji(e)?t.f():this.Ca(e)},Ot.Ca=function(e){try{if(e==this.a)e:{var t=Ji(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||3==t&&!dn&&!this.a.$())){this.A||4!=t||7==n||Ir(8==n||0>=r?3:2),Xr(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,u=this.a;if((a=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yt(a)){var s=a;break t}}s=null}if(!s){this.b=!1,this.h=3,Cr(12),Zr(this),Jr(this);break e}Er(this.c,this.f,s,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ei(this,s)}this.I?(Gr(this,t,o),dn&&this.b&&3==t&&(gr(this.J,this.R,"tick",this.Wa),this.R.start())):(Er(this.c,this.f,o,null),ei(this,o)),4==t&&Zr(this),this.b&&!this.A&&(4==t?vo(this.g,this):(this.b=!1,$r(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Cr(12)):(this.h=0,Cr(13)),Zr(this),Jr(this)}}}catch(c){}},Ot.Wa=function(){if(this.a){var e=Ji(this.a),t=this.a.$();this.D<t.length&&(Xr(this),Gr(this,e,t),this.b&&4!=e&&$r(this))}},Ot.cancel=function(){this.A=!0,Zr(this)},Ot.Va=function(){this.o=null;var e=zt();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(Ir(3),Cr(17)),Zr(this),this.h=2,Jr(this)):Yr(this,this.T-e)},(Ot=ni.prototype).K=function(){ri(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},Ot.L=function(){return ri(this),this.a.concat()},Ot.get=function(e,t){return ii(this.b,e)?this.b[e]:t},Ot.set=function(e,t){ii(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},Ot.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var oi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ai(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof ai){this.a=void 0!==t?t:e.a,si(this,e.f),this.j=e.j,ci(this,e.c),li(this,e.h),this.g=e.g,t=e.b;var n=new _i;n.c=t.c,t.a&&(n.a=new ni(t.a),n.b=t.b),fi(this,n),this.i=e.i}else e&&(n=String(e).match(oi))?(this.a=!!t,si(this,n[1]||"",!0),this.j=pi(n[2]||""),ci(this,n[3]||"",!0),li(this,n[4]),this.g=pi(n[5]||"",!0),fi(this,n[6]||"",!0),this.i=pi(n[7]||"")):(this.a=!!t,this.b=new _i(null,this.a))}function ui(e){return new ai(e)}function si(e,t,n){e.f=n?pi(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function ci(e,t,n){e.c=n?pi(t,!0):t}function li(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function fi(e,t,n){t instanceof _i?(e.b=t,function(e,t){t&&!e.f&&(Si(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ti(this,t),Ii(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=yi(t,wi)),e.b=new _i(t,e.a))}function hi(e,t,n){e.b.set(t,n)}function di(e){return hi(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^zt()).toString(36)),e}function pi(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function yi(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,vi),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function vi(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ai.prototype.toString=function(){var e=[],t=this.f;t&&e.push(yi(t,mi,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(yi(t,mi,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(yi(n,"/"==n.charAt(0)?bi:gi,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",yi(n,Ei)),e.join("")};var mi=/[#\/\?@]/g,gi=/[#\?:]/g,bi=/[#\?]/g,wi=/[#\?@]/g,Ei=/#/g;function _i(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Si(e){e.a||(e.a=new ni,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ti(e,t){Si(e),t=xi(e,t),ii(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,ii((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&ri(e)))}function ki(e,t){return Si(e),t=xi(e,t),ii(e.a.b,t)}function Ii(e,t,n){Ti(e,t),0<n.length&&(e.c=null,e.a.set(xi(e,t),$t(n)),e.b+=n.length)}function xi(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(Ot=_i.prototype).add=function(e,t){Si(this),this.c=null,e=xi(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},Ot.forEach=function(e,t){Si(this),this.a.forEach((function(n,r){Gt(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Ot.L=function(){Si(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},Ot.K=function(e){Si(this);var t=[];if("string"===typeof e)ki(this,e)&&(t=Qt(t,this.a.get(xi(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=Qt(t,e[n])}return t},Ot.set=function(e,t){return Si(this),this.c=null,ki(this,e=xi(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},Ot.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},Ot.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var Ci=function(e,t){this.b=e,this.a=t};function Ni(e){this.g=e||Oi,Pt.PerformanceNavigationTiming?e=0<(e=Pt.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Pt.ia&&Pt.ia.ya&&Pt.ia.ya()&&Pt.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Oi=10;function Ai(e){return!!e.b||!!e.a&&e.a.size>=e.f}function Di(e){return e.b?1:e.a?e.a.size:0}function Pi(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function Ri(e,t){e.a?e.a.add(t):e.b=t}function Li(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function Mi(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=Nt(e.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return $t(e.c)}function Fi(){}function ji(){this.a=new Fi}function Ui(e,t,n){var r=n||"";try{ti(e,(function(e,n){var i=e;Mt(e)&&(i=er(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Hy){throw t.push(r+"type="+encodeURIComponent("_badmap")),Hy}}function Vi(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}Ni.prototype.cancel=function(){var e,t;if(this.c=Mi(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Nt(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},Fi.prototype.stringify=function(e){return Pt.JSON.stringify(e,void 0)},Fi.prototype.parse=function(e){return Pt.JSON.parse(e,void 0)};var qi=Pt.JSON.parse;function Bi(e){Xn.call(this),this.headers=new ni,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=zi,this.D=this.F=!1}Kt(Bi,Xn);var zi="",Ki=/^https?$/i,Hi=["POST","PUT"];function Wi(e){return"content-type"==e.toLowerCase()}function Gi(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Qi(e),Yi(e)}function Qi(e){e.u||(e.u=!0,Jn(e,"complete"),Jn(e,"error"))}function $i(e){if(e.b&&"undefined"!=typeof Dt&&(!e.s[1]||4!=Ji(e)||2!=e.W()))if(e.l&&4==Ji(e))dr(e.za,0,e);else if(Jn(e,"readystatechange"),4==Ji(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(oi)[1]||null;if(!o&&Pt.self&&Pt.self.location){var a=Pt.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ki.test(o?o.toLowerCase():"")}t=i}if(t)Jn(e,"complete"),Jn(e,"success");else{e.h=6;try{var u=2<Ji(e)?e.a.statusText:""}catch(n){u=""}e.f=u+" ["+e.W()+"]",Qi(e)}}finally{Yi(e)}}}function Yi(e,t){if(e.a){Xi(e);var n=e.a,r=e.s[0]?Rt:null;e.a=null,e.s=null,t||Jn(e,"ready");try{n.onreadystatechange=r}catch(Hy){}}}function Xi(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(Pt.clearTimeout(e.m),e.m=null)}function Ji(e){return e.a?e.a.readyState:0}function Zi(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return rn(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):hi(e,t,n))}function eo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function to(e){this.pa=0,this.g=[],this.c=new wr,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=eo("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=eo("baseRetryDelayMs",5e3,e),this.Ra=eo("retryDelaySeedMs",1e4,e),this.Ma=eo("forwardChannelMaxRetries",2,e),this.ma=eo("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new Ni(e&&e.concurrentRequestLimit),this.ka=new ji,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function no(e){if(io(e),3==e.v){var t=e.R++,n=ui(e.B);hi(n,"SID",e.J),hi(n,"RID",t),hi(n,"TYPE","terminate"),so(e,n),(t=new qr(e,e.c,t,void 0)).H=2,t.i=di(ui(n)),n=!1,Pt.navigator&&Pt.navigator.sendBeacon&&(n=Pt.navigator.sendBeacon(t.i.toString(),"")),!n&&Pt.Image&&((new Image).src=t.i,n=!0),n||(t.a=Eo(t.g,null),t.a.ba(t.i)),t.u=zt(),$r(t)}bo(e)}function ro(e){e.a&&(ho(e),e.a.cancel(),e.a=null)}function io(e){ro(e),e.j&&(Pt.clearTimeout(e.j),e.j=null),yo(e),e.b.cancel(),e.h&&("number"===typeof e.h&&Pt.clearTimeout(e.h),e.h=null)}function oo(e,t){e.g.push(new Ci(e.Oa++,t)),3==e.v&&ao(e)}function ao(e){Ai(e.b)||e.h||(e.h=!0,ur(e.Ba,e),e.u=0)}function uo(e,t){var n;n=t?t.f:e.R++;var r=ui(e.B);hi(r,"SID",e.J),hi(r,"RID",n),hi(r,"AID",e.P),so(e,r),e.i&&e.l&&Zi(r,e.i,e.l),n=new qr(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=co(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),Ri(e.b,n),Hr(n,r,t)}function so(e,t){e.f&&ti({},(function(e,n){hi(t,n,e)}))}function co(e,t,n){n=Math.min(e.g.length,n);var r=e.f?qt(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var u=!0,s=0;s<n;s++){var c=i[s].b,l=i[s].a;if(0>(c-=o))o=Math.max(0,i[s].b-100),u=!1;else try{Ui(l,a,"req"+c+"_")}catch(ea){r&&r(l)}}if(u){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function lo(e){e.a||e.j||(e.T=1,ur(e.Aa,e),e.o=0)}function fo(e){return!(e.a||e.j||3<=e.o)&&(e.T++,e.j=Or(qt(e.Aa,e),mo(e,e.o)),e.o++,!0)}function ho(e){null!=e.s&&(Pt.clearTimeout(e.s),e.s=null)}function po(e){e.a=new qr(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=ui(e.la);hi(t,"RID","rpc"),hi(t,"SID",e.J),hi(t,"CI",e.H?"0":"1"),hi(t,"AID",e.P),so(e,t),hi(t,"TYPE","xmlhttp"),e.i&&e.l&&Zi(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=di(ui(t)),n.j=null,n.I=!0,Wr(n,e)}function yo(e){null!=e.m&&(Pt.clearTimeout(e.m),e.m=null)}function vo(e,t){var n=null;if(e.a==t){yo(e),ho(e),e.a=null;var r=2}else{if(!Pi(e.b,t))return;n=t.s,Li(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=zt()-t.u;var i=e.u;Jn(r=Tr(),new Nr(r,n,t,i)),ao(e)}else lo(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Di(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.g=t.s.concat(e.g),!0):!(1==e.v||2==e.v||e.u>=(e.La?0:e.Ma))&&(e.h=Or(qt(e.Ba,e,t),mo(e,e.u)),e.u++,!0))}(e,t)||2==r&&fo(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:go(e,5);break;case 4:go(e,10);break;case 3:go(e,6);break;default:go(e,2)}}function mo(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function go(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=qt(e.Ya,e);n||(n=new ai("//www.google.com/images/cleardot.gif"),Pt.location&&"http"==Pt.location.protocol||si(n,"https"),di(n)),function(e,t){var n=new wr;if(Pt.Image){var r=new Image;r.onload=Bt(Vi,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Bt(Vi,n,r,"TestLoadImage: error",!1,t),r.onabort=Bt(Vi,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Bt(Vi,n,r,"TestLoadImage: timeout",!1,t),Pt.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Cr(2);e.v=0,e.f&&e.f.ra(t),bo(e),io(e)}function bo(e){e.v=0,e.I=-1,e.f&&(0==Mi(e.b).length&&0==e.g.length||(e.b.c.length=0,$t(e.g),e.g.length=0),e.f.qa())}function wo(e,t,n){var r=function(e){return e instanceof ai?ui(e):new ai(e,void 0)}(n);if(""!=r.c)t&&ci(r,t+"."+r.c),li(r,r.h);else{var i=Pt.location;r=function(e,t,n,r){var i=new ai(null,void 0);return e&&si(i,e),t&&ci(i,t),n&&li(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&rn(e.V,(function(e,t){hi(r,t,e)})),t=e.A,n=e.na,t&&n&&hi(r,t,n),hi(r,"VER",e.ha),so(e,r),r}function Eo(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Bi(e.Na)).F=e.C,t}function _o(){}function So(){if(fn&&!(10<=Number(Tn)))throw Error("Environmental error: no available transport.")}function To(e,t){Xn.call(this),this.a=new to(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Yt(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Yt(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new xo(this)}function ko(e){jr.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function Io(){Ur.call(this),this.status=1}function xo(e){this.a=e}(Ot=Bi.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Rr(this.H):Rr(Mr),this.a.onreadystatechange=qt(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(o){return void Gi(this,o)}e=n||"";var i=new ni(this.headers);r&&ti(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Wi,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.L()),n=Pt.FormData&&e instanceof Pt.FormData,!(0<=Wt(Hi,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Xi(this),0<this.o&&((this.D=function(e){return fn&&_n(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=qt(this.xa,this)):this.m=dr(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){Gi(this,o)}},Ot.xa=function(){"undefined"!=typeof Dt&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Jn(this,"timeout"),this.abort(8))},Ot.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Jn(this,"complete"),Jn(this,"abort"),Yi(this))},Ot.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Yi(this,!0)),Bi.X.G.call(this)},Ot.za=function(){this.j||(this.A||this.l||this.g?$i(this):this.Ua())},Ot.Ua=function(){$i(this)},Ot.W=function(){try{return 2<Ji(this)?this.a.status:-1}catch(e){return-1}},Ot.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},Ot.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),qi(t)}},Ot.ua=function(){return this.h},Ot.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},(Ot=to.prototype).ha=8,Ot.v=1,Ot.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new qr(this,this.c,e,void 0),r=this.l;if(this.O&&(r?un(r=on(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=co(this,n,t),hi(i=ui(this.B),"RID",e),hi(i,"CVER",22),this.A&&hi(i,"X-HTTP-Session-Id",this.A),so(this,i),this.i&&r&&Zi(i,this.i,r),Ri(this.b,n),this.Ia&&hi(i,"TYPE","init"),this.da?(hi(i,"$req",t),hi(i,"SID","null"),n.U=!0,Hr(n,i,null)):Hr(n,i,t),this.v=2}}else 3==this.v&&(e?uo(this,e):0==this.g.length||Ai(this.b)||uo(this))},Ot.Aa=function(){if(this.j=null,po(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=Or(qt(this.Ta,this),e)}},Ot.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Cr(10),ro(this),po(this))},Ot.Sa=function(){null!=this.m&&(this.m=null,ro(this),fo(this),Cr(19))},Ot.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),Cr(2)):(this.c.info("Failed to ping google.com"),Cr(1))},(Ot=_o.prototype).ta=function(){},Ot.sa=function(){},Ot.ra=function(){},Ot.qa=function(){},Ot.Ja=function(){},So.prototype.a=function(e,t){return new To(e,t)},Kt(To,Xn),To.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;Cr(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=wo(e,null,e.fa),ao(e)},To.prototype.close=function(){no(this.a)},To.prototype.h=function(e){if("string"===typeof e){var t={};t.__data__=e,oo(this.a,t)}else this.l?((t={}).__data__=er(e),oo(this.a,t)):oo(this.a,e)},To.prototype.G=function(){this.a.f=null,delete this.f,no(this.a),delete this.a,To.X.G.call(this)},Kt(ko,jr),Kt(Io,Ur),Kt(xo,_o),xo.prototype.ta=function(){Jn(this.a,"a")},xo.prototype.sa=function(e){Jn(this.a,new ko(e))},xo.prototype.ra=function(e){Jn(this.a,new Io(e))},xo.prototype.qa=function(){Jn(this.a,"b")},So.prototype.createWebChannel=So.prototype.a,To.prototype.send=To.prototype.h,To.prototype.open=To.prototype.g,To.prototype.close=To.prototype.close,Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Dr.COMPLETE="complete",Lr.EventType=Fr,Fr.OPEN="a",Fr.CLOSE="b",Fr.ERROR="c",Fr.MESSAGE="d",Xn.prototype.listen=Xn.prototype.va,Bi.prototype.listenOnce=Bi.prototype.wa,Bi.prototype.getLastError=Bi.prototype.Qa,Bi.prototype.getLastErrorCode=Bi.prototype.ua,Bi.prototype.getStatus=Bi.prototype.W,Bi.prototype.getResponseJson=Bi.prototype.Pa,Bi.prototype.getResponseText=Bi.prototype.$,Bi.prototype.send=Bi.prototype.ba;var Co=function(){return new So},No=function(){return Tr()},Oo=Ar,Ao=Dr,Do=_r,Po={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},Ro=Lr,Lo=Bi,Mo=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Mo.o=-1;var Fo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},jo=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Ne(t,e),t}(Error),Uo=new lt("@firebase/firestore");function Vo(){return Uo.logLevel}function qo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Uo.logLevel<=rt.DEBUG){var r=t.map(Ko);Uo.debug.apply(Uo,Le(["Firestore (8.5.0): "+e],r))}}function Bo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Uo.logLevel<=rt.ERROR){var r=t.map(Ko);Uo.error.apply(Uo,Le(["Firestore (8.5.0): "+e],r))}}function zo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Uo.logLevel<=rt.WARN){var r=t.map(Ko);Uo.warn.apply(Uo,Le(["Firestore (8.5.0): "+e],r))}}function Ko(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ho(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+e;throw Bo(t),new Error(t)}function Wo(e,t){e||Ho()}function Go(e,t){return e}function Qo(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var $o=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Qo(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n},e}();function Yo(e,t){return e<t?-1:e>t?1:0}function Xo(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Jo(e){return e+"\0"}var Zo=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new jo(Fo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new jo(Fo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new jo(Fo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new jo(Fo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Yo(this.nanoseconds,e.nanoseconds):Yo(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),ea=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Zo(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function ta(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function na(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ra(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ia=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Ho(),void 0===n?n=e.length-t:n>e.length-t&&Ho(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),oa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ne(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new jo(Fo.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(ia),aa=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ua=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ne(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return aa.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new jo(Fo.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new jo(Fo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new jo(Fo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(a=!a,i++):"."!==u||a?(r+=u,i++):(o(),i++)}if(o(),a)throw new jo(Fo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(ia),sa=function(){function e(e){this.fields=e,e.sort(ua.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Xo(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),ca=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Yo(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();ca.EMPTY_BYTE_STRING=new ca("");var la=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fa(e){if(Wo(!!e),"string"==typeof e){var t=0,n=la.exec(e);if(Wo(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ha(e.seconds),nanos:ha(e.nanos)}}function ha(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function da(e){return"string"==typeof e?ca.fromBase64String(e):ca.fromUint8Array(e)}function pa(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ya(e){var t=e.mapValue.fields.__previous_value__;return pa(t)?ya(t):t}function va(e){var t=fa(e.mapValue.fields.__local_write_time__.timestampValue);return new Zo(t.seconds,t.nanos)}function ma(e){return null==e}function ga(e){return 0===e&&1/e==-1/0}function ba(e){return"number"==typeof e&&Number.isInteger(e)&&!ga(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var wa=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(oa.fromString(t))},e.fromName=function(t){return new e(oa.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===oa.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return oa.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new oa(t.slice()))},e}();function Ea(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pa(e)?4:10:Ho()}function _a(e,t){var n=Ea(e);if(n!==Ea(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return va(e).isEqual(va(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=fa(e.timestampValue),r=fa(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return da(e.bytesValue).isEqual(da(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ha(e.geoPointValue.latitude)===ha(t.geoPointValue.latitude)&&ha(e.geoPointValue.longitude)===ha(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ha(e.integerValue)===ha(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ha(e.doubleValue),r=ha(t.doubleValue);return n===r?ga(n)===ga(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Xo(e.arrayValue.values||[],t.arrayValue.values||[],_a);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ta(n)!==ta(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!_a(n[i],r[i])))return!1;return!0}(e,t);default:return Ho()}}function Sa(e,t){return void 0!==(e.values||[]).find((function(e){return _a(e,t)}))}function Ta(e,t){var n=Ea(e),r=Ea(t);if(n!==r)return Yo(n,r);switch(n){case 0:return 0;case 1:return Yo(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ha(e.integerValue||e.doubleValue),r=ha(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ka(e.timestampValue,t.timestampValue);case 4:return ka(va(e),va(t));case 5:return Yo(e.stringValue,t.stringValue);case 6:return function(e,t){var n=da(e),r=da(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Yo(n[i],r[i]);if(0!==o)return o}return Yo(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Yo(ha(e.latitude),ha(t.latitude));return 0!==n?n:Yo(ha(e.longitude),ha(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ta(n[i],r[i]);if(o)return o}return Yo(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var u=Yo(r[a],o[a]);if(0!==u)return u;var s=Ta(n[r[a]],i[o[a]]);if(0!==s)return s}return Yo(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Ho()}}function ka(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Yo(e,t);var n=fa(e),r=fa(t),i=Yo(n.seconds,r.seconds);return 0!==i?i:Yo(n.nanos,r.nanos)}function Ia(e){return xa(e)}function xa(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=fa(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?da(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,wa.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=xa(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+xa(e.fields[o])}return t+"}"}(e.mapValue):Ho();var t,n}function Ca(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Na(e){return!!e&&"integerValue"in e}function Oa(e){return!!e&&"arrayValue"in e}function Aa(e){return!!e&&"nullValue"in e}function Da(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Pa(e){return!!e&&"mapValue"in e}var Ra=function(){function e(e){this.overlayMap=new Map,this.partialValue=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field(ua.emptyPath())},e.prototype.set=function(e,t){this.setOverlay(e,t)},e.prototype.setAll=function(e){var t=this;e.forEach((function(e,n){e?t.set(n,e):t.delete(n)}))},e.prototype.delete=function(e){this.setOverlay(e,null)},e.prototype.isEqual=function(e){return _a(this.buildProto(),e.buildProto())},e.prototype.setOverlay=function(e,t){for(var n=this.overlayMap,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ea(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.lastSegment(),t)},e.prototype.applyOverlay=function(t,n){var r=this,i=!1,o=e.extractNestedValue(this.partialValue,t),a=Pa(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(e,n){if(e instanceof Map){var o=r.applyOverlay(t.child(n),e);null!=o&&(a[n]=o,i=!0)}else null!==e?(a[n]=e,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},e.prototype.buildProto=function(){var e=this.applyOverlay(ua.emptyPath(),this.overlayMap);return null!=e&&(this.partialValue=e,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(e,t){if(t.isEmpty())return e;for(var n=e,r=0;r<t.length-1;++r){if(!n.mapValue.fields)return null;if(!Pa(n=n.mapValue.fields[t.get(r)]))return null}return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function La(e){var t=[];return na(e.fields||{},(function(e,n){var r=new ua([e]);if(Pa(n)){var i=La(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var u=a[o];t.push(r.child(u))}}else t.push(r)})),new sa(t)}var Ma=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,ea.min(),Ra.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Ra.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Ra.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Ra.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Ra.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Fa=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function ja(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Fa(e,t,n,r,i,o,a)}function Ua(e){var t=Go(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+Ia(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ma(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ja(t.startAt)),t.endAt&&(n+="|ub:",n+=Ja(t.endAt)),t.h=n}return t.h}function Va(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!eu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!_a(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nu(e.startAt,t.startAt)&&nu(e.endAt,t.endAt)}function qa(e){return wa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ba=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Ne(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new za(e,n,r):"array-contains"===n?new Ga(e,r):"in"===n?new Qa(e,r):"not-in"===n?new $a(e,r):"array-contains-any"===n?new Ya(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Ka(e,n):new Ha(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Ta(t,this.value)):null!==t&&Ea(this.value)===Ea(t)&&this.m(Ta(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ho()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),za=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=wa.fromName(r.referenceValue),i}return Ne(t,e),t.prototype.matches=function(e){var t=wa.comparator(e.key,this.key);return this.m(t)},t}(Ba),Ka=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Wa("in",n),r}return Ne(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Ba),Ha=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Wa("not-in",n),r}return Ne(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Ba);function Wa(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return wa.fromName(e.referenceValue)}))}var Ga=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Ne(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return Oa(t)&&Sa(t.arrayValue,this.value)},t}(Ba),Qa=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Ne(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&Sa(this.value.arrayValue,t)},t}(Ba),$a=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Ne(t,e),t.prototype.matches=function(e){if(Sa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Sa(this.value.arrayValue,t)},t}(Ba),Ya=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Ne(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!Oa(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Sa(t.value.arrayValue,e)}))},t}(Ba),Xa=function(e,t){this.position=e,this.before=t};function Ja(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return Ia(e)})).join(",")}var Za=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function eu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function tu(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?wa.comparator(wa.fromName(a.referenceValue),n.key):Ta(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function nu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!_a(e.position[n],t.position[n]))return!1;return!0}var ru=function(e,t,n,r,i,o,a,u){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===u&&(u=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt};function iu(e,t,n,r,i,o,a,u){return new ru(e,t,n,r,i,o,a,u)}function ou(e){return new ru(e)}function au(e){return!ma(e.limit)&&"F"===e.limitType}function uu(e){return!ma(e.limit)&&"L"===e.limitType}function su(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function cu(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function lu(e){return null!==e.collectionGroup}function fu(e){var t=Go(e);if(null===t.p){t.p=[];var n=cu(t),r=su(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Za(n)),t.p.push(new Za(ua.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var u=a[o];t.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Za(ua.keyField(),s))}}}return t.p}function hu(e){var t=Go(e);if(!t.T)if("F"===t.limitType)t.T=ja(t.path,t.collectionGroup,fu(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=fu(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Za(o.field,a))}var u=t.endAt?new Xa(t.endAt.position,!t.endAt.before):null,s=t.startAt?new Xa(t.startAt.position,!t.startAt.before):null;t.T=ja(t.path,t.collectionGroup,n,t.filters,t.limit,u,s)}return t.T}function du(e,t,n){return new ru(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function pu(e,t){return Va(hu(e),hu(t))&&e.limitType===t.limitType}function yu(e){return Ua(hu(e))+"|lt:"+e.limitType}function vu(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+Ia(t.value);var t})).join(", ")+"]"),ma(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Ja(e.startAt)),e.endAt&&(t+=", endAt: "+Ja(e.endAt)),"Target("+t+")"}(hu(e))+"; limitType="+e.limitType+")"}function mu(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):wa.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!tu(e.startAt,fu(e),t))&&(!e.endAt||!tu(e.endAt,fu(e),t))}(e,t)}function gu(e){return function(t,n){for(var r=!1,i=0,o=fu(e);i<o.length;i++){var a=o[i],u=bu(a,t,n);if(0!==u)return u;r=r||a.field.isKeyField()}return 0}}function bu(e,t,n){var r=e.field.isKeyField()?wa.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ta(r,i):Ho()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ho()}}function wu(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ga(t)?"-0":t}}function Eu(e){return{integerValue:""+e}}function _u(e,t){return ba(t)?Eu(t):wu(e,t)}var Su=function(){this._=void 0};function Tu(e,t,n){return e instanceof xu?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Cu?Nu(e,t):e instanceof Ou?Au(e,t):function(e,t){var n=Iu(e,t),r=Pu(n)+Pu(e.A);return Na(n)&&Na(e.A)?Eu(r):wu(e.R,r)}(e,t)}function ku(e,t,n){return e instanceof Cu?Nu(e,t):e instanceof Ou?Au(e,t):n}function Iu(e,t){return e instanceof Du?Na(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var xu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ne(t,e),t}(Su),Cu=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Ne(t,e),t}(Su);function Nu(e,t){for(var n=Ru(t),r=function(e){n.some((function(t){return _a(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ou=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Ne(t,e),t}(Su);function Au(e,t){for(var n=Ru(t),r=function(e){n=n.filter((function(t){return!_a(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Du=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Ne(t,e),t}(Su);function Pu(e){return ha(e.integerValue||e.doubleValue)}function Ru(e){return Oa(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Lu=function(e,t){this.field=e,this.transform=t},Mu=function(e,t){this.version=e,this.transformResults=t},Fu=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function ju(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Uu=function(){};function Vu(e,t,n){e instanceof Hu?function(e,t,n){var r=e.value.clone(),i=Qu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Wu?function(e,t,n){if(ju(e.precondition,t)){var r=Qu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Gu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function qu(e,t,n){e instanceof Hu?function(e,t,n){if(ju(e.precondition,t)){var r=e.value.clone(),i=$u(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ku(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Wu?function(e,t,n){if(ju(e.precondition,t)){var r=$u(e.fieldTransforms,n,t),i=t.data;i.setAll(Gu(e)),i.setAll(r),t.convertToFoundDocument(Ku(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){ju(e.precondition,t)&&t.convertToNoDocument(ea.min())}(e,t)}function Bu(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),u=Iu(o.transform,a||null);null!=u&&(null==n&&(n=Ra.empty()),n.set(o.field,u))}return n||null}function zu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Xo(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Cu&&t instanceof Cu||e instanceof Ou&&t instanceof Ou?Xo(e.elements,t.elements,_a):e instanceof Du&&t instanceof Du?_a(e.A,t.A):e instanceof xu&&t instanceof xu}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ku(e){return e.isFoundDocument()?e.version:ea.min()}var Hu=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Ne(t,e),t}(Uu),Wu=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Ne(t,e),t}(Uu);function Gu(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Qu(e,t,n){var r=new Map;Wo(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,u=t.data.field(o.field);r.set(o.field,ku(a,u,n[i]))}return r}function $u(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],u=a.transform,s=n.data.field(a.field);r.set(a.field,Tu(u,s,t))}return r}var Yu,Xu,Ju=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Ne(t,e),t}(Uu),Zu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Ne(t,e),t}(Uu),es=function(e){this.count=e};function ts(e){switch(e){case Fo.OK:return Ho();case Fo.CANCELLED:case Fo.UNKNOWN:case Fo.DEADLINE_EXCEEDED:case Fo.RESOURCE_EXHAUSTED:case Fo.INTERNAL:case Fo.UNAVAILABLE:case Fo.UNAUTHENTICATED:return!1;case Fo.INVALID_ARGUMENT:case Fo.NOT_FOUND:case Fo.ALREADY_EXISTS:case Fo.PERMISSION_DENIED:case Fo.FAILED_PRECONDITION:case Fo.ABORTED:case Fo.OUT_OF_RANGE:case Fo.UNIMPLEMENTED:case Fo.DATA_LOSS:return!0;default:return Ho()}}function ns(e){if(void 0===e)return Bo("GRPC error has no .code"),Fo.UNKNOWN;switch(e){case Yu.OK:return Fo.OK;case Yu.CANCELLED:return Fo.CANCELLED;case Yu.UNKNOWN:return Fo.UNKNOWN;case Yu.DEADLINE_EXCEEDED:return Fo.DEADLINE_EXCEEDED;case Yu.RESOURCE_EXHAUSTED:return Fo.RESOURCE_EXHAUSTED;case Yu.INTERNAL:return Fo.INTERNAL;case Yu.UNAVAILABLE:return Fo.UNAVAILABLE;case Yu.UNAUTHENTICATED:return Fo.UNAUTHENTICATED;case Yu.INVALID_ARGUMENT:return Fo.INVALID_ARGUMENT;case Yu.NOT_FOUND:return Fo.NOT_FOUND;case Yu.ALREADY_EXISTS:return Fo.ALREADY_EXISTS;case Yu.PERMISSION_DENIED:return Fo.PERMISSION_DENIED;case Yu.FAILED_PRECONDITION:return Fo.FAILED_PRECONDITION;case Yu.ABORTED:return Fo.ABORTED;case Yu.OUT_OF_RANGE:return Fo.OUT_OF_RANGE;case Yu.UNIMPLEMENTED:return Fo.UNIMPLEMENTED;case Yu.DATA_LOSS:return Fo.DATA_LOSS;default:return Ho()}}(Xu=Yu||(Yu={}))[Xu.OK=0]="OK",Xu[Xu.CANCELLED=1]="CANCELLED",Xu[Xu.UNKNOWN=2]="UNKNOWN",Xu[Xu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xu[Xu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xu[Xu.NOT_FOUND=5]="NOT_FOUND",Xu[Xu.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xu[Xu.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xu[Xu.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xu[Xu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xu[Xu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xu[Xu.ABORTED=10]="ABORTED",Xu[Xu.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xu[Xu.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xu[Xu.INTERNAL=13]="INTERNAL",Xu[Xu.UNAVAILABLE=14]="UNAVAILABLE",Xu[Xu.DATA_LOSS=15]="DATA_LOSS";var rs=function(){function e(e,t){this.comparator=e,this.root=t||os.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,os.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,os.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new is(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new is(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new is(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new is(this.root,e,this.comparator,!0)},e}(),is=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),os=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Ho();if(this.right.isRed())throw Ho();var e=this.left.check();if(e!==this.right.check())throw Ho();return e+(this.isRed()?0:1)},e}();os.EMPTY=null,os.RED=!0,os.BLACK=!1,os.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Ho()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Ho()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Ho()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Ho()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Ho()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new os(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var as=function(){function e(e){this.comparator=e,this.data=new rs(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new us(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new us(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),us=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),ss=new rs(wa.comparator);function cs(){return ss}var ls=new rs(wa.comparator);function fs(){return ls}var hs=new rs(wa.comparator);function ds(){return hs}var ps=new as(wa.comparator);function ys(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=ps,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var vs=new as(Yo);function ms(){return vs}var gs=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,bs.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ea.min(),r,ms(),cs(),ys())},e}(),bs=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(ca.EMPTY_BYTE_STRING,n,ys(),ys(),ys())},e}(),ws=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Es=function(e,t){this.targetId=e,this.V=t},_s=function(e,t,n,r){void 0===n&&(n=ca.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Ss=function(){function e(){this.S=0,this.D=Is(),this.C=ca.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=ys(),t=ys(),n=ys();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ho()}})),new bs(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=Is()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),Ts=function(){function e(e){this.W=e,this.G=new Map,this.H=cs(),this.J=ks(),this.Y=new as(Yo)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.$(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.$(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.$(e.resumeToken));break;default:Ho()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(qa(i))if(0===n){var o=new wa(i.path);this.tt(t,o,Ma.newNoDocument(o,ea.min()))}else Wo(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&qa(o.target)){var a=new wa(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,Ma.newNoDocument(a,e))}r.O&&(n.set(i,r.M()),r.L())}}));var r=ys();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new gs(e,n,this.Y,this.H,r);return this.H=cs(),this.J=ks(),this.Y=new as(Yo),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Ss,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new as(Yo),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||qo("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Ss),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function ks(){return new rs(wa.comparator)}function Is(){return new rs(wa.comparator)}var xs={asc:"ASCENDING",desc:"DESCENDING"},Cs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ns=function(e,t){this.databaseId=e,this.I=t};function Os(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function As(e,t){return e.I?t.toBase64():t.toUint8Array()}function Ds(e,t){return Os(e,t.toTimestamp())}function Ps(e){return Wo(!!e),ea.fromTimestamp(function(e){var t=fa(e);return new Zo(t.seconds,t.nanos)}(e))}function Rs(e,t){return function(e){return new oa(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ls(e){var t=oa.fromString(e);return Wo(oc(t)),t}function Ms(e,t){return Rs(e.databaseId,t.path)}function Fs(e,t){var n=Ls(t);if(n.get(1)!==e.databaseId.projectId)throw new jo(Fo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new jo(Fo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new wa(qs(n))}function js(e,t){return Rs(e.databaseId,t)}function Us(e){var t=Ls(e);return 4===t.length?oa.emptyPath():qs(t)}function Vs(e){return new oa(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function qs(e){return Wo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Bs(e,t,n){return{name:Ms(e,t),fields:n.toProto().mapValue.fields}}function zs(e,t,n){var r=Fs(e,t.name),i=Ps(t.updateTime),o=new Ra({mapValue:{fields:t.fields}}),a=Ma.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ks(e,t){var n;if(t instanceof Hu)n={update:Bs(e,t.key,t.value)};else if(t instanceof Ju)n={delete:Ms(e,t.key)};else if(t instanceof Wu)n={update:Bs(e,t.key,t.data),updateMask:ic(t.fieldMask)};else{if(!(t instanceof Zu))return Ho();n={verify:Ms(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof xu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Cu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ou)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Du)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Ho()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ds(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ho()}(e,t.precondition)),n}function Hs(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Fu.updateTime(Ps(e.updateTime)):void 0!==e.exists?Fu.exists(e.exists):Fu.none()}(t.currentDocument):Fu.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Wo("REQUEST_TIME"===t.setToServerValue),n=new xu;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Cu(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Ou(i)}else"increment"in t?n=new Du(e,t.increment):Ho();var o=ua.fromServerFormat(t.fieldPath);return new Lu(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=Fs(e,t.update.name),o=new Ra({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new sa(t.map((function(e){return ua.fromServerFormat(e)})))}(t.updateMask);return new Wu(i,o,a,n,r)}return new Hu(i,o,n,r)}if(t.delete){var u=Fs(e,t.delete);return new Ju(u,n)}if(t.verify){var s=Fs(e,t.verify);return new Zu(s,n)}return Ho()}function Ws(e,t){return{documents:[js(e,t.path)]}}function Gs(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=js(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=js(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Da(e.value))return{unaryFilter:{field:ec(e.field),op:"IS_NAN"}};if(Aa(e.value))return{unaryFilter:{field:ec(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Da(e.value))return{unaryFilter:{field:ec(e.field),op:"IS_NOT_NAN"}};if(Aa(e.value))return{unaryFilter:{field:ec(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ec(e.field),op:Zs(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ec(e.field),direction:Js(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||ma(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Ys(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Ys(t.endAt)),n}function Qs(e){var t=Us(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Wo(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=$s(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Za(tc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return ma(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Xs(n.startAt));var l=null;return n.endAt&&(l=Xs(n.endAt)),iu(t,i,u,a,s,"F",c,l)}function $s(e){return e?void 0!==e.unaryFilter?[rc(e)]:void 0!==e.fieldFilter?[nc(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return $s(e)})).reduce((function(e,t){return e.concat(t)})):Ho():[]}function Ys(e){return{before:e.before,values:e.position}}function Xs(e){var t=!!e.before,n=e.values||[];return new Xa(n,t)}function Js(e){return xs[e]}function Zs(e){return Cs[e]}function ec(e){return{fieldPath:e.canonicalString()}}function tc(e){return ua.fromServerFormat(e.fieldPath)}function nc(e){return Ba.create(tc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ho()}}(e.fieldFilter.op),e.fieldFilter.value)}function rc(e){switch(e.unaryFilter.op){case"IS_NAN":var t=tc(e.unaryFilter.field);return Ba.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=tc(e.unaryFilter.field);return Ba.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=tc(e.unaryFilter.field);return Ba.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=tc(e.unaryFilter.field);return Ba.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ho()}}function ic(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function oc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ac(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=sc(t)),t=uc(e.get(n),t);return sc(t)}function uc(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function sc(e){return e+"\x01\x01"}function cc(e){var t=e.length;if(Wo(t>=2),2===t)return Wo("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),oa.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Ho(),e.charAt(a+1)){case"\x01":var u=e.substring(o,a),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Ho()}o=a+2}return new oa(r)}var lc=function(e,t){this.seconds=e,this.nanoseconds=t},fc=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};fc.store="owner",fc.key="owner";var hc=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};hc.store="mutationQueues",hc.keyPath="userId";var dc=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};dc.store="mutations",dc.keyPath="batchId",dc.userMutationsIndex="userMutationsIndex",dc.userMutationsKeyPath=["userId","batchId"];var pc=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,ac(t)]},e.key=function(e,t,n){return[e,ac(t),n]},e}();pc.store="documentMutations",pc.PLACEHOLDER=new pc;var yc=function(e,t){this.path=e,this.readTime=t},vc=function(e,t){this.path=e,this.version=t},mc=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};mc.store="remoteDocuments",mc.readTimeIndex="readTimeIndex",mc.readTimeIndexPath="readTime",mc.collectionReadTimeIndex="collectionReadTimeIndex",mc.collectionReadTimeIndexPath=["parentPath","readTime"];var gc=function(e){this.byteSize=e};gc.store="remoteDocumentGlobal",gc.key="remoteDocumentGlobalKey";var bc=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};bc.store="targets",bc.keyPath="targetId",bc.queryTargetsIndexName="queryTargetsIndex",bc.queryTargetsKeyPath=["canonicalId","targetId"];var wc=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};wc.store="targetDocuments",wc.keyPath=["targetId","path"],wc.documentTargetsIndex="documentTargetsIndex",wc.documentTargetsKeyPath=["path","targetId"];var Ec=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ec.key="targetGlobalKey",Ec.store="targetGlobal";var _c=function(e,t){this.collectionId=e,this.parent=t};_c.store="collectionParents",_c.keyPath=["collectionId","parent"];var Sc=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Sc.store="clientMetadata",Sc.keyPath="clientId";var Tc=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Tc.store="bundles",Tc.keyPath="bundleId";var kc=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};kc.store="namedQueries",kc.keyPath="name";var Ic=Le(Le([],Le(Le([],Le(Le([],Le(Le([],[hc.store,dc.store,pc.store,mc.store,bc.store,fc.store,Ec.store,wc.store]),[Sc.store])),[gc.store])),[_c.store])),[Tc.store,kc.store]),xc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Cc=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),Nc=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},Oc=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Ho(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Ac=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new Nc,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Rc(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Uc(t.target.error);n.ft.reject(new Rc(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Rc(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(qo("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Mc(t)},e}(),Dc=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(qe())&&Bo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return qo("SimpleDb","Removing database:",e),Fc(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=qe(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return Ae(this,void 0,void 0,(function(){var t,n=this;return De(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(qo("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new Rc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new jo(Fo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Rc(e,n))},i.onupgradeneeded=function(e){qo("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){qo("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return Ae(this,void 0,void 0,(function(){var i,o,a,u,s;return De(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,s,c,l;return De(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=f.sent(),t=Ac.open(u.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),Oc.reject(e)})).toPromise(),s={},a.catch((function(){})),[4,t.dt];case 3:return[2,(s.value=(f.sent(),a),s)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,qo("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},u=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(s=c.sent()))return[2,s.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Pc=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Fc(this.Pt.delete())},e}(),Rc=function(e){function t(t,n){var r=this;return(r=e.call(this,Fo.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Ne(t,e),t}(jo);function Lc(e){return"IndexedDbTransactionError"===e.name}var Mc=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(qo("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(qo("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Fc(n)},e.prototype.add=function(e){return qo("SimpleDb","ADD",this.store.name,e,e),Fc(this.store.add(e))},e.prototype.get=function(e){var t=this;return Fc(this.store.get(e)).next((function(n){return void 0===n&&(n=null),qo("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return qo("SimpleDb","DELETE",this.store.name,e),Fc(this.store.delete(e))},e.prototype.count=function(){return qo("SimpleDb","COUNT",this.store.name),Fc(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){qo("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.Ot=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.$t=function(e){var t=this.cursor({});return new Oc((function(n,r){t.onerror=function(e){var t=Uc(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new Oc((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Pc(i),a=t(i.primaryKey,i.value,o);if(a instanceof Oc){var u=a.catch((function(e){return o.done(),Oc.reject(e)}));n.push(u)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Oc.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Fc(e){return new Oc((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Uc(e.target.error);n(t)}}))}var jc=!1;function Uc(e){var t=Dc._t(qe());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new jo("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return jc||(jc=!0,setTimeout((function(){throw r}),0)),r}}return e}var Vc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Ne(t,e),t}(Cc);function qc(e,t){var n=Go(e);return Dc.It(n.Mt,t)}var Bc=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Vu(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&qu(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&qu(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ea.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ys())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,(function(e,t){return zu(e,t)}))&&Xo(this.baseMutations,e.baseMutations,(function(e,t){return zu(e,t)}))},e}(),zc=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Wo(t.mutations.length===r.length);for(var i=ds(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Kc=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=ea.min()),void 0===o&&(o=ea.min()),void 0===a&&(a=ca.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Hc=function(e){this.Lt=e};function Wc(e,t){if(t.document)return zs(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=wa.fromSegments(t.noDocument.path),r=Xc(t.noDocument.readTime),i=Ma.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=wa.fromSegments(t.unknownDocument.path);return r=Xc(t.unknownDocument.version),Ma.newUnknownDocument(o,r)}return Ho()}function Gc(e,t,n){var r=Qc(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:Ms(e,t.key),fields:t.data.toProto().mapValue.fields,updateTime:Os(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new mc(null,null,o,a,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=Yc(t.version);return a=t.hasCommittedMutations,new mc(null,new yc(u,s),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Yc(t.version);return new mc(new vc(c,l),null,null,!0,r,i)}return Ho()}function Qc(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function $c(e){var t=new Zo(e[0],e[1]);return ea.fromTimestamp(t)}function Yc(e){var t=e.toTimestamp();return new lc(t.seconds,t.nanoseconds)}function Xc(e){var t=new Zo(e.seconds,e.nanoseconds);return ea.fromTimestamp(t)}function Jc(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Hs(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Hs(e.Lt,t)})),u=Zo.fromMillis(t.localWriteTimeMs);return new Bc(t.batchId,u,n,a)}function Zc(e){var t,n,r=Xc(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Xc(e.lastLimboFreeSnapshotVersion):ea.min();return void 0!==e.query.documents?(Wo(1===(n=e.query).documents.length),t=hu(ou(Us(n.documents[0])))):t=function(e){return hu(Qs(e))}(e.query),new Kc(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ca.fromBase64String(e.resumeToken))}function el(e,t){var n,r=Yc(t.snapshotVersion),i=Yc(t.lastLimboFreeSnapshotVersion);n=qa(t.target)?Ws(e.Lt,t.target):Gs(e.Lt,t.target);var o=t.resumeToken.toBase64();return new bc(t.targetId,Ua(t.target),r,o,t.sequenceNumber,i,n)}function tl(e){var t=Qs({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?du(t,t.limit,"L"):t}var nl=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return rl(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Xc(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return rl(e).put({bundleId:(n=t).id,createTime:Yc(Ps(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return il(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:tl(t.bundledQuery),readTime:Xc(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return il(e).put(function(e){return{name:e.name,readTime:Yc(Ps(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function rl(e){return qc(e,Tc.store)}function il(e){return qc(e,kc.store)}var ol=function(){function e(){this.Bt=new al}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Oc.resolve()},e.prototype.getCollectionParents=function(e,t){return Oc.resolve(this.Bt.getEntries(t))},e}(),al=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new as(oa.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new as(oa.comparator)).toArray()},e}(),ul=function(){function e(){this.qt=new al}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:ac(i)};return sl(e).put(o)}return Oc.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Jo(t),""],!1,!0);return sl(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(cc(o.parent))}return n}))},e}();function sl(e){return qc(e,_c.store)}var cl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ll=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function fl(e,t,n){var r=e.store(dc.store),i=e.store(pc.store),o=[],a=IDBKeyRange.only(n.batchId),u=0,s=r.Ot({range:a},(function(e,t,n){return u++,n.delete()}));o.push(s.next((function(){Wo(1===u)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=pc.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return Oc.waitFor(o).next((function(){return c}))}function hl(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ho();t=e.noDocument}return JSON.stringify(t).length}ll.DEFAULT_COLLECTION_PERCENTILE=10,ll.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ll.DEFAULT=new ll(41943040,ll.DEFAULT_COLLECTION_PERCENTILE,ll.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ll.DISABLED=new ll(-1,0,0);var dl=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return e.Kt=function(t,n,r,i){return Wo(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yl(e).Ot({index:dc.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=vl(e),a=yl(e);return a.add({}).next((function(u){Wo("number"==typeof u);for(var s=new Bc(u,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Ks(e.Lt,t)})),i=n.mutations.map((function(t){return Ks(e.Lt,t)}));return new dc(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,s),l=[],f=new as((function(e,t){return Yo(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],y=pc.key(i.userId,p.key.path,u);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(y,pc.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Qt[u]=s.keys()})),Oc.waitFor(l).next((function(){return s}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return yl(e).get(t).next((function(e){return e?(Wo(e.userId===n.userId),Jc(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Qt[t]?Oc.resolve(this.Qt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Qt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return yl(e).Ot({index:dc.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Wo(t.batchId>=r),o=Jc(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return yl(e).Ot({index:dc.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yl(e).Nt(dc.userMutationsIndex,n).next((function(e){return e.map((function(e){return Jc(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=pc.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return vl(e).Ot({range:i},(function(r,i,a){var u=r[0],s=r[1],c=r[2],l=cc(s);if(u===n.userId&&t.path.isEqual(l))return yl(e).get(c).next((function(e){if(!e)throw Ho();Wo(e.userId===n.userId),o.push(Jc(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new as(Yo),i=[];return t.forEach((function(t){var o=pc.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),u=vl(e).Ot({range:a},(function(e,i,o){var a=e[0],u=e[1],s=e[2],c=cc(u);a===n.userId&&t.path.isEqual(c)?r=r.add(s):o.done()}));i.push(u)})),Oc.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=pc.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),u=new as(Yo);return vl(e).Ot({range:a},(function(e,t,o){var a=e[0],s=e[1],c=e[2],l=cc(s);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(u=u.add(c)):o.done()})).next((function(){return n.Wt(e,u)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(yl(e).get(t).next((function(e){if(null===e)throw Ho();Wo(e.userId===n.userId),r.push(Jc(n.R,e))})))})),Oc.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return fl(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),Oc.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Qt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Oc.resolve();var r=IDBKeyRange.lowerBound(pc.prefixForUser(t.userId)),i=[];return vl(e).Ot({range:r},(function(e,n,r){if(e[0]===t.userId){var o=cc(e[1]);i.push(o)}else r.done()})).next((function(){Wo(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return pl(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return ml(e).get(this.userId).next((function(e){return e||new hc(t.userId,-1,"")}))},e}();function pl(e,t,n){var r=pc.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return vl(e).Ot({range:o,kt:!0},(function(e,n,r){var o=e[0],u=e[1];e[2],o===t&&u===i&&(a=!0),r.done()})).next((function(){return a}))}function yl(e){return qc(e,dc.store)}function vl(e){return qc(e,pc.store)}function ml(e){return qc(e,hc.store)}var gl=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),bl=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new gl(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return ea.fromTimestamp(new Zo(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return wl(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Wo(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return wl(e).Ot((function(a,u){var s=Zc(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,o.push(r.removeTargetData(e,s)))})).next((function(){return Oc.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return wl(e).Ot((function(e,n){var r=Zc(n);t(r)}))},e.prototype.Xt=function(e){return El(e).get(Ec.key).next((function(e){return Wo(null!==e),e}))},e.prototype.Zt=function(e,t){return El(e).put(Ec.key,t)},e.prototype.te=function(e,t){return wl(e).put(el(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=Ua(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return wl(e).Ot({range:r,index:bc.queryTargetsIndexName},(function(e,n,r){var o=Zc(n);Va(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=_l(e);return t.forEach((function(t){var a=ac(t.path);i.push(o.put(new wc(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),Oc.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=_l(e);return Oc.forEach(t,(function(t){var o=ac(t.path);return Oc.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=_l(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=_l(e),i=ys();return r.Ot({range:n,kt:!0},(function(e,t,n){var r=cc(e[1]),o=new wa(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=ac(t.path),r=IDBKeyRange.bound([n],[Jo(n)],!1,!0),i=0;return _l(e).Ot({index:wc.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return wl(e).get(t).next((function(e){return e?Zc(e):null}))},e}();function wl(e){return qc(e,bc.store)}function El(e){return qc(e,Ec.store)}function _l(e){return qc(e,wc.store)}function Sl(e){return Ae(this,void 0,void 0,(function(){return De(this,(function(t){if(e.code!==Fo.FAILED_PRECONDITION||e.message!==xc)throw e;return qo("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Tl(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Yo(n,i);return 0===a?Yo(r,o):a}var kl=function(){function e(e){this.ne=e,this.buffer=new as(Tl),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Tl(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Il=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;qo("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Ae(t,void 0,void 0,(function(){var t;return De(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Lc(t=n.sent())?(qo("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Sl(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),xl=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Oc.resolve(Mo.o);var r=new kl(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(qo("LruGarbageCollector","Garbage collection skipped; disabled"),Oc.resolve(cl)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(qo("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),cl):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(qo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Vo()<=rt.DEBUG&&qo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+e+" documents in "+(s-u)+"ms\nTotal Duration: "+(s-l)+"ms"),Oc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),Cl=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new xl(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return Nl(e,n)},e.prototype.removeReference=function(e,t,n){return Nl(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return Nl(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return ml(e).$t((function(r){return pl(e,r,t).next((function(e){return e&&(n=!0),Oc.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,u){if(u<=t){var s=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),_l(e).delete([0,ac(a.path)])}))}));i.push(s)}})).next((function(){return Oc.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Nl(e,t)},e.prototype.we=function(e,t){var n,r=_l(e),i=Mo.o;return r.Ot({index:wc.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),u=r.sequenceNumber;0===o?(i!==Mo.o&&t(new wa(cc(n)),i),i=u,n=a):i=Mo.o})).next((function(){i!==Mo.o&&t(new wa(cc(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function Nl(e,t){return _l(e).put(function(e,t){return new wc(0,ac(e.path),t)}(t,e.currentSequenceNumber))}var Ol=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],u=o[1];if(this.equalsFn(a,e))return u}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){na(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],u=o[1];e(a,u)}}))},e.prototype.isEmpty=function(){return ra(this.inner)},e}(),Al=function(){function e(){this.changes=new Ol((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:ea.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Ma.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Oc.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Dl=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Ll(e).put(Ml(t),n)},e.prototype.removeEntry=function(e,t){var n=Ll(e),r=Ml(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Ll(e).get(Ml(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return Ll(e).get(Ml(t)).next((function(e){return{document:n.ye(t,e),size:hl(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=cs();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=cs(),i=new rs(wa.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,hl(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return Oc.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Ll(e).Ot({range:r},(function(e,t,r){for(var a=wa.fromSegments(e);o&&wa.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=cs(),o=t.path.length+1,a={};if(n.isEqual(ea.min())){var u=t.path.toArray();a.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=Qc(n);a.range=IDBKeyRange.lowerBound([s,c],!0),a.index=mc.collectionReadTimeIndex}return Ll(e).Ot(a,(function(e,n,a){if(e.length===o){var u=Wc(r.R,n);t.path.isPrefixOf(u.key.path)?mu(t,u)&&(i=i.insert(u.key,u)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new Pl(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Rl(e).get(gc.key).next((function(e){return Wo(!!e),e}))},e.prototype.me=function(e,t){return Rl(e).put(gc.key,t)},e.prototype.ye=function(e,t){if(t){var n=Wc(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(ea.min()))return n}return Ma.newInvalidDocument(e)},e}(),Pl=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new Ol((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Ne(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new as((function(e,t){return Yo(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var u=t.Ae.get(o);if(a.document.isValidDocument()){var s=Gc(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=hl(s);r+=c-u,n.push(t.Ie.addEntry(e,o,s))}else if(r-=u,t.trackRemovals){var l=Gc(t.Ie.R,Ma.newNoDocument(o,ea.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),Oc.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(Al);function Rl(e){return qc(e,gc.store)}function Ll(e){return qc(e,mc.store)}function Ml(e){return e.path.toArray()}var Fl=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Wo(n<r&&n>=0&&r<=11);var o=new Ac("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(fc.store)}(e),function(e){e.createObjectStore(hc.store,{keyPath:hc.keyPath}),e.createObjectStore(dc.store,{keyPath:dc.keyPath,autoIncrement:!0}).createIndex(dc.userMutationsIndex,dc.userMutationsKeyPath,{unique:!0}),e.createObjectStore(pc.store)}(e),jl(e),function(e){e.createObjectStore(mc.store)}(e));var a=Oc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(wc.store),e.deleteObjectStore(bc.store),e.deleteObjectStore(Ec.store)}(e),jl(e)),a=a.next((function(){return function(e){var t=e.store(Ec.store),n=new Ec(0,0,ea.min().toTimestamp(),0);return t.put(Ec.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(dc.store).Nt().next((function(n){e.deleteObjectStore(dc.store),e.createObjectStore(dc.store,{keyPath:dc.keyPath,autoIncrement:!0}).createIndex(dc.userMutationsIndex,dc.userMutationsKeyPath,{unique:!0});var r=t.store(dc.store),i=n.map((function(e){return r.put(e)}));return Oc.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Sc.store,{keyPath:Sc.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(gc.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(mc.store);t.createIndex(mc.readTimeIndex,mc.readTimeIndexPath,{unique:!1}),t.createIndex(mc.collectionReadTimeIndex,mc.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Tc.store,{keyPath:Tc.keyPath})}(e),function(e){e.createObjectStore(kc.store,{keyPath:kc.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(mc.store).Ot((function(e,n){t+=hl(n)})).next((function(){var n=new gc(t);return e.store(gc.store).put(gc.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(hc.store),r=e.store(dc.store);return n.Nt().next((function(n){return Oc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(dc.userMutationsIndex,i).next((function(r){return Oc.forEach(r,(function(r){Wo(r.userId===n.userId);var i=Jc(t.R,r);return fl(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(wc.store),n=e.store(mc.store);return e.store(Ec.store).get(Ec.key).next((function(e){var r=[];return n.Ot((function(n,i){var o=new oa(n),a=function(e){return[0,ac(e)]}(o);r.push(t.get(a).next((function(n){return n?Oc.resolve():function(n){return t.put(new wc(0,ac(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return Oc.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(_c.store,{keyPath:_c.keyPath});var n=t.store(_c.store),r=new al,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:ac(i)})}};return t.store(mc.store).Ot({kt:!0},(function(e,t){var n=new oa(e);return i(n.popLast())})).next((function(){return t.store(pc.store).Ot({kt:!0},(function(e,t){e[0];var n=e[1],r=(e[2],cc(n));return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(bc.store);return n.Ot((function(e,r){var i=Zc(r),o=el(t.R,i);return n.put(o)}))},e}();function jl(e){e.createObjectStore(wc.store,{keyPath:wc.keyPath}).createIndex(wc.documentTargetsIndex,wc.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(bc.store,{keyPath:bc.keyPath}).createIndex(bc.queryTargetsIndexName,bc.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Ec.store)}var Ul="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Vl=function(){function e(t,n,r,i,o,a,u,s,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=u,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new jo(Fo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Cl(this,i),this.Le=n+"main",this.R=new Hc(s),this.Be=new Dc(this.Le,11,new Fl(this.R)),this.qe=new bl(this.referenceDelegate,this.R),this.Ut=new ul,this.Ue=function(e,t){return new Dl(e,t)}(this.R,this.Ut),this.Qe=new nl,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Bo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new jo(Fo.FAILED_PRECONDITION,Ul);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new Mo(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return Ae(t,void 0,void 0,(function(){return De(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return Ae(t,void 0,void 0,(function(){return De(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return Ae(t,void 0,void 0,(function(){return De(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Bl(t).put(new Sc(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(Lc(t))return qo("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return qo("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return ql(e).get(fc.key).next((function(e){return Oc.resolve(t.tn(e))}))},e.prototype.en=function(e){return Bl(e).delete(this.clientId)},e.prototype.nn=function(){return Ae(this,void 0,void 0,(function(){var e,t,n,r,i=this;return De(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=qc(e,Sc.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Oc.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Ke)for(t=0,n=e;t<n.length;t++)r=n[t],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?Oc.resolve(!0):ql(e).get(fc.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new jo(Fo.FAILED_PRECONDITION,Ul);return!1}}return!(!t.networkEnabled||!t.inForeground)||Bl(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&qo("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return Ae(this,void 0,void 0,(function(){var e=this;return De(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[fc.store,Sc.store],(function(t){var n=new Vc(t,Mo.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Bl(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return dl.Kt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;qo("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,Ic,(function(o){return i=new Vc(o,r.Ne?r.Ne.next():Mo.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw Bo("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new jo(Fo.FAILED_PRECONDITION,xc);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return ql(e).get(fc.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new jo(Fo.FAILED_PRECONDITION,Ul)}))},e.prototype.Ze=function(e){var t=new fc(this.clientId,this.allowTabSynchronization,Date.now());return ql(e).put(fc.key,t)},e.yt=function(){return Dc.yt()},e.prototype.Xe=function(e){var t=this,n=ql(e);return n.get(fc.key).next((function(e){return t.tn(e)?(qo("IndexedDbPersistence","Releasing primary lease."),n.delete(fc.key)):Oc.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Bo("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Ke)||void 0===t?void 0:t.getItem(this.on(e)));return qo("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Bo("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Bo("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function ql(e){return qc(e,fc.store)}function Bl(e){return qc(e,Sc.store)}function zl(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Kl=function(e,t){this.progress=e,this.wn=t},Hl=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return wa.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):lu(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new wa(t)).next((function(e){var t=fs();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=fs();return this.Ut.getCollectionParents(e,i).next((function(a){return Oc.forEach(a,(function(a){var u=function(e,t){return new ru(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,u,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,u=o.mutations;a<u.length;a++){var s=u[a],c=s.key,l=r.get(c);null==l&&(l=Ma.newInvalidDocument(c),r=r.insert(c,l)),qu(s,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){mu(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=ys(),i=0,o=t;i<o.length;i++)for(var a=0,u=o[i].mutations;a<u.length;a++){var s=u[a];s instanceof Wu&&null===n.get(s.key)&&(r=r.add(s.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),Wl=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=ys(),i=ys(),o=0,a=n.docChanges;o<a.length;o++){var u=a[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Gl=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ea.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(au(t)||uu(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(Vo()<=rt.DEBUG&&qo("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),vu(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new as(gu(e));return t.forEach((function(t,r){mu(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return Vo()<=rt.DEBUG&&qo("QueryEngine","Using full collection scan to execute query:",vu(t)),this.Sn.getDocumentsMatchingQuery(e,t,ea.min())},e}(),Ql=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new rs(Yo),this.kn=new Ol((function(e){return Ua(e)}),Va),this.On=ea.min(),this._n=e.getMutationQueue(n),this.$n=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Hl(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function $l(e,t,n,r){return new Ql(e,t,n,r)}function Yl(e,t){return Ae(this,void 0,void 0,(function(){var n,r,i,o;return De(this,(function(a){switch(a.label){case 0:return n=Go(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Hl(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=ys(),u=0,s=o;u<s.length;u++){var c=s[u];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var y=p[d];r.push(y.batchId);for(var v=0,m=y.mutations;v<m.length;v++){var g=m[v];a=a.add(g.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Xl(e,t){var n=Go(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=Oc.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Wo(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Jl(e){var t=Go(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Zl(e,t){var n=Go(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var u=i.get(o);if(u){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var s=t.resumeToken;if(s.approximateByteSize()>0){var c=u.withResumeToken(s,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Wo(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var u=cs();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(ef(e,o,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(ea.min())){var s=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(s)}return Oc.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,u)})).next((function(){return u}))})).then((function(e){return n.Fn=i,e}))}function ef(e,t,n,r,i){var o=ys();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=cs();return n.forEach((function(n,a){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(ea.min())?(t.removeEntry(n,s),o=o.insert(n,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(a,s),o=o.insert(n,a)):qo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",a.version)})),o}))}function tf(e,t){var n=Go(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function nf(e,t){var n=Go(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,Oc.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Kc(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function rf(e,t,n){return Ae(this,void 0,void 0,(function(){var r,i,o,a;return De(this,(function(u){switch(u.label){case 0:r=Go(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Lc(a=u.sent()))throw a;return qo("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function of(e,t,n){var r=Go(e),i=ea.min(),o=ys();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Go(e),i=r.kn.get(n);return void 0!==i?Oc.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,hu(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:ea.min(),n?o:ys())})).next((function(e){return{documents:e,Bn:o}}))}))}function af(e,t){var n=Go(e),r=Go(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function uf(e){var t=Go(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Go(e),i=cs(),o=Qc(n),a=Ll(t),u=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:mc.readTimeIndex,range:u},(function(e,t){var n=Wc(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:$c(o)}}))}(t.$n,e,t.On)})).then((function(e){var n=e.wn,r=e.readTime;return t.On=r,n}))}function sf(e){return Ae(this,void 0,void 0,(function(){var t;return De(this,(function(n){return[2,(t=Go(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Ll(e),n=ea.min();return t.Ot({index:mc.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=$c(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.On=e}))]}))}))}function cf(e,t,n,r){return Ae(this,void 0,void 0,(function(){var i,o,a,u,s,c,l,f,h,d;return De(this,(function(p){switch(p.label){case 0:for(i=Go(e),o=ys(),a=cs(),u=ds(),s=0,c=n;s<c.length;s++)l=c[s],f=t.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.Un(l)),u=u.insert(f,t.Qn(l.metadata.readTime));return h=i.$n.newChangeBuffer({trackRemovals:!0}),[4,nf(i,function(e){return hu(ou(oa.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return ef(e,h,a,ea.min(),u).next((function(t){return h.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function lf(e,t,n){return void 0===n&&(n=ys()),Ae(this,void 0,void 0,(function(){var r,i;return De(this,(function(o){switch(o.label){case 0:return[4,nf(e,hu(tl(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Go(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=Ps(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(e,t);var a=r.withResumeToken(ca.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(e,t)}))}))]}}))}))}var ff=function(){function e(e){this.R=e,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return Oc.resolve(this.Kn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Kn.set(t.id,{id:(n=t).id,version:n.version,createTime:Ps(n.createTime)}),Oc.resolve()},e.prototype.getNamedQuery=function(e,t){return Oc.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:tl(e.bundledQuery),readTime:Ps(e.readTime)}}(t)),Oc.resolve()},e}(),hf=function(){function e(){this.Wn=new as(df.Gn),this.zn=new as(df.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new df(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new df(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new wa(new oa([])),r=new df(n,e),i=new df(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new wa(new oa([])),n=new df(t,e),r=new df(t,e+1),i=ys();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new df(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),df=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return wa.comparator(e.key,t.key)||Yo(e.ns,t.ns)},e.Hn=function(e,t){return Yo(e.ns,t.ns)||wa.comparator(e.key,t.key)},e}(),pf=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new as(df.Gn)}return e.prototype.checkEmpty=function(e){return Oc.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Bc(i,t,n,r);this._n.push(o);for(var a=0,u=r;a<u.length;a++){var s=u[a];this.rs=this.rs.add(new df(s.key,i)),this.Ut.addToCollectionParentIndex(e,s.key.path.popLast())}return Oc.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return Oc.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return Oc.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return Oc.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return Oc.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new df(t,0),i=new df(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),Oc.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new as(Yo);return t.forEach((function(e){var t=new df(e,0),i=new df(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),Oc.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;wa.isDocumentKey(i)||(i=i.child(""));var o=new df(new wa(i),0),a=new as(Yo);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),Oc.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Wo(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return Oc.forEach(t.mutations,(function(i){var o=new df(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new df(t,0),r=this.rs.firstAfterOrEqual(n);return Oc.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,Oc.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),yf=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new rs(wa.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Oc.resolve(n?n.document.clone():Ma.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=cs();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Ma.newInvalidDocument(e))})),Oc.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=cs(),i=new wa(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),u=a.key,s=a.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||mu(t,c)&&(r=r.insert(c.key,c.clone()))}return Oc.resolve(r)},e.prototype.fs=function(e,t){return Oc.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new vf(this)},e.prototype.getSize=function(e){return Oc.resolve(this.size)},e}(),vf=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Ne(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),Oc.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Al),mf=function(){function e(e){this.persistence=e,this.ds=new Ol((function(e){return Ua(e)}),Va),this.lastRemoteSnapshotVersion=ea.min(),this.highestTargetId=0,this.ws=0,this._s=new hf,this.targetCount=0,this.ys=gl.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),Oc.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Oc.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Oc.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Oc.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),Oc.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new gl(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Oc.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),Oc.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Oc.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Oc.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return Oc.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return Oc.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),Oc.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Oc.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Oc.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return Oc.resolve(n)},e.prototype.containsKey=function(e,t){return Oc.resolve(this._s.containsKey(t))},e}(),gf=function(){function e(e,t){var n=this;this.gs={},this.Ne=new Mo(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new mf(this),this.Ut=new ol,this.Ue=function(e,t){return new yf(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Hc(t),this.Qe=new ff(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new pf(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;qo("MemoryPersistence","Starting transaction:",e);var i=new bf(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return Oc.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),bf=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Ne(t,e),t}(Cc),wf=function(){function e(e){this.persistence=e,this.As=new hf,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ho()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),Oc.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),Oc.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Oc.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oc.forEach(this.vs,(function(r){var i=wa.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return Oc.or([function(){return Oc.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Ef=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function _f(e,t){return"firestore_clients_"+e+"_"+t}function Sf(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Tf(e,t){return"firestore_targets_"+e+"_"+t}Ef.UNAUTHENTICATED=new Ef(null),Ef.GOOGLE_CREDENTIALS=new Ef("google-credentials-uid"),Ef.FIRST_PARTY=new Ef("first-party-uid");var kf=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new jo(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Bo("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),If=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new jo(i.error.code,i.error.message)),o?new e(t,i.state,r):(Bo("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),xf=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ms(),a=0;i&&a<r.activeTargetIds.length;++a)i=ba(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Bo("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Cf=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Bo("SharedClientState","Failed to parse online state: "+t),null)},e}(),Nf=function(){function e(){this.activeTargetIds=ms()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Of=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new rs(Yo),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=_f(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Nf),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Qs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Ae(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,u,s,c,l,f=this;return De(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(_f(this.persistenceKey,r)))&&(o=xf.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),s=0,c=this.Os;s<c.length;s++)l=c[s],this.Fs(l);return this.Os=[],this.window.addEventListener("unload",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Tf(this.persistenceKey,e));if(n){var r=If.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Ks(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Tf(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return qo("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){qo("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){qo("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(qo("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Bo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Ae(t,void 0,void 0,(function(){var e,t,r,i,o,a;return De(this,(function(u){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=Mo.o;if(null!=e)try{var n=JSON.parse(e);Wo("number"==typeof n),t=n}catch(e){Bo("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Mo.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new kf(this.currentUser,e,t,n),i=Sf(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=Sf(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=Tf(this.persistenceKey,e),i=new If(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return xf.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return kf.Vs(new Ef(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return If.Vs(r,t)},e.prototype.js=function(e){return Cf.Vs(e)},e.prototype.ii=function(e){return Ae(this,void 0,void 0,(function(){return De(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(qo("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],u=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||u.push(e)})),this.syncEngine.hi(a,u).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=ms();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),Af=function(){function e(){this.li=new Nf,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new Nf,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),Df=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Pf=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){qo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){qo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),Rf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Lf=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),Mf=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n}return Ne(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new Lo;a.listenOnce(Ao.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Oo.NO_ERROR:var t=a.getResponseJson();qo("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Oo.TIMEOUT:qo("Connection",'RPC "'+e+'" timed out'),o(new jo(Fo.DEADLINE_EXCEEDED,"Request time out"));break;case Oo.HTTP_ERROR:var n=a.getStatus();if(qo("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Fo).indexOf(t)>=0?t:Fo.UNKNOWN}(r.status);o(new jo(u,r.message))}else o(new jo(Fo.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new jo(Fo.UNAVAILABLE,"Connection failed."));break;default:Ho()}}finally{qo("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);a.send(t,"POST",u,n,15)}))},t.prototype.$i=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Co(),i=No(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,t),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())||"object"===typeof navigator&&"ReactNative"===navigator.product||qe().indexOf("Electron/")>=0||function(){var e=qe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||qe().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");qo("Connection","Creating WebChannel: "+a,o);var u=r.createWebChannel(a,o),s=!1,c=!1,l=new Lf({Ei:function(e){c?qo("Connection","Not sending because WebChannel is closed:",e):(s||(qo("Connection","Opening WebChannel transport."),u.open(),s=!0),qo("Connection","WebChannel sending:",e),u.send(e))},Ti:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,Ro.EventType.OPEN,(function(){c||qo("Connection","WebChannel transport opened.")})),f(u,Ro.EventType.CLOSE,(function(){c||(c=!0,qo("Connection","WebChannel transport closed"),l.Vi())})),f(u,Ro.EventType.ERROR,(function(e){c||(c=!0,zo("Connection","WebChannel transport errored:",e),l.Vi(new jo(Fo.UNAVAILABLE,"The operation could not be completed")))})),f(u,Ro.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Wo(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){qo("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Yu[e];if(void 0!==t)return ns(t)}(o),s=i.message;void 0===a&&(a=Fo.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new jo(a,s)),u.close()}else qo("Connection","WebChannel received:",n),l.Si(n)}})),f(i,Do.STAT_EVENT,(function(e){e.stat===Po.PROXY?qo("Connection","Detected buffering proxy"):e.stat===Po.NOPROXY&&qo("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);qo("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return qo("RestConnection","Received: ",e),e}),(function(t){throw zo("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Oi=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=Rf[e];return this.Di+"/v1/"+t+":"+n},e}());function Ff(){return"undefined"!=typeof window?window:null}function jf(){return"undefined"!=typeof document?document:null}function Uf(e){return new Ns(e,!0)}var Vf=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&qo("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Qi=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),qf=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Vf(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return Ae(this,void 0,void 0,(function(){return De(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return Ae(this,void 0,void 0,(function(){return De(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return Ae(this,void 0,void 0,(function(){return De(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===Fo.RESOURCE_EXHAUSTED?(Bo(t.toString()),Bo("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):t&&t.code===Fo.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new jo(Fo.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return Ae(e,void 0,void 0,(function(){return De(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return qo("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(qo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Bf=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Ne(t,e),t.prototype.wr=function(e){return this.Hi.$i("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ho()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Wo(void 0===t||"string"==typeof t),ca.fromBase64String(t||"")):(Wo(void 0===t||t instanceof Uint8Array),ca.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(u=t.targetChange.cause)&&function(e){var t=void 0===e.code?Fo.UNKNOWN:ns(e.code);return new jo(t,e.message||"")}(u);n=new _s(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=Fs(e,r.document.name),o=Ps(r.document.updateTime);var u=new Ra({mapValue:{fields:r.document.fields}}),s=(a=Ma.newFoundDocument(i,o,u),r.targetIds||[]),c=r.removedTargetIds||[];n=new ws(s,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=Fs(e,r.document),o=r.readTime?Ps(r.readTime):ea.min(),u=Ma.newNoDocument(i,o),a=r.removedTargetIds||[],n=new ws([],a,u.key,u);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=Fs(e,r.document),o=r.removedTargetIds||[],n=new ws([],o,i,null);else{if(!("filter"in t))return Ho();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new es(r),o=l.targetId,n=new Es(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return ea.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ea.min():t.readTime?Ps(t.readTime):ea.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=Vs(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=qa(r)?{documents:Ws(e,r)}:{query:Gs(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=As(e,t.resumeToken):t.snapshotVersion.compareTo(ea.min())>0&&(n.readTime=Os(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ho()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=Vs(this.R),t.removeTarget=e,this.cr(t)},t}(qf),zf=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Ne(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.$i("Write",e)},t.prototype.onMessage=function(e){if(Wo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Wo(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Ps(e.updateTime):Ps(t);return n.isEqual(ea.min())&&(n=Ps(t)),new Mu(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ps(e.commitTime);return this.listener.Tr(n,t)}return Wo(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Vs(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ks(t.R,e)}))};this.cr(n)},t}(qf),Kf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return Ne(t,e),t.prototype.br=function(){if(this.Rr)throw new jo(Fo.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Fo.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new jo(Fo.UNKNOWN,e.toString())}))},t.prototype.Oi=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Fo.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new jo(Fo.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),Hf=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Bo(t),this.Vr=!1):qo("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Wf=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return Ae(o,void 0,void 0,(function(){return De(this,(function(e){switch(e.label){case 0:return th(this)?(qo("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Ae(this,void 0,void 0,(function(){var t;return De(this,(function(n){switch(n.label){case 0:return(t=Go(e)).$r.add(4),[4,Qf(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.$r.delete(4),[4,Gf(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Hf(n,r)};function Gf(e){return Ae(this,void 0,void 0,(function(){var t,n;return De(this,(function(r){switch(r.label){case 0:if(!th(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Qf(e){return Ae(this,void 0,void 0,(function(){var t,n;return De(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function $f(e,t){var n=Go(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),eh(n)?Zf(n):vh(n).er()&&Xf(n,t))}function Yf(e,t){var n=Go(e),r=vh(n);n.Or.delete(t),r.er()&&Jf(n,t),0===n.Or.size&&(r.er()?r.ir():th(n)&&n.Br.set("Unknown"))}function Xf(e,t){e.qr.U(t.targetId),vh(e).mr(t)}function Jf(e,t){e.qr.U(t),vh(e).yr(t)}function Zf(e){e.qr=new Ts({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),vh(e).start(),e.Br.Sr()}function eh(e){return th(e)&&!vh(e).tr()&&e.Or.size>0}function th(e){return 0===Go(e).$r.size}function nh(e){e.qr=void 0}function rh(e){return Ae(this,void 0,void 0,(function(){return De(this,(function(t){return e.Or.forEach((function(t,n){Xf(e,t)})),[2]}))}))}function ih(e,t){return Ae(this,void 0,void 0,(function(){return De(this,(function(n){return nh(e),eh(e)?(e.Br.Nr(t),Zf(e)):e.Br.set("Unknown"),[2]}))}))}function oh(e,t,n){return Ae(this,void 0,void 0,(function(){var r,i,o;return De(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof _s&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return Ae(this,void 0,void 0,(function(){var n,r,i,o;return De(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.Or.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.Or.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),qo("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,ah(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof ws?e.qr.X(t):t instanceof Es?e.qr.rt(t):e.qr.et(t),n.isEqual(ea.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Jl(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Or.get(r);i&&e.Or.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Or.get(t);if(n){e.Or.set(t,n.withResumeToken(ca.EMPTY_BYTE_STRING,n.snapshotVersion)),Jf(e,t);var r=new Kc(n.target,t,1,n.sequenceNumber);Xf(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return qo("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,ah(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function ah(e,t,n){return Ae(this,void 0,void 0,(function(){var r=this;return De(this,(function(i){switch(i.label){case 0:if(!Lc(t))throw t;return e.$r.add(1),[4,Qf(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return Jl(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return Ae(r,void 0,void 0,(function(){return De(this,(function(t){switch(t.label){case 0:return qo("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.$r.delete(1),[4,Gf(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function uh(e,t){return t().catch((function(n){return ah(e,n,t)}))}function sh(e){return Ae(this,void 0,void 0,(function(){var t,n,r,i,o;return De(this,(function(a){switch(a.label){case 0:t=Go(e),n=mh(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return th(e)&&e.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,tf(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=mh(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,ah(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return ch(t)&&lh(t),[2]}}))}))}function ch(e){return th(e)&&!mh(e).tr()&&e.kr.length>0}function lh(e){mh(e).start()}function fh(e){return Ae(this,void 0,void 0,(function(){return De(this,(function(t){return mh(e).Ar(),[2]}))}))}function hh(e){return Ae(this,void 0,void 0,(function(){var t,n,r,i;return De(this,(function(o){for(t=mh(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function dh(e,t,n){return Ae(this,void 0,void 0,(function(){var r,i;return De(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=zc.from(r,t,n),[4,uh(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,sh(e)];case 2:return o.sent(),[2]}}))}))}function ph(e,t){return Ae(this,void 0,void 0,(function(){return De(this,(function(n){switch(n.label){case 0:return t&&mh(e).pr?[4,function(e,t){return Ae(this,void 0,void 0,(function(){var n,r;return De(this,(function(i){switch(i.label){case 0:return ts(r=t.code)&&r!==Fo.ABORTED?(n=e.kr.shift(),mh(e).sr(),[4,uh(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,sh(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ch(e)&&lh(e),[2]}}))}))}function yh(e,t){return Ae(this,void 0,void 0,(function(){var n;return De(this,(function(r){switch(r.label){case 0:return n=Go(e),t?(n.$r.delete(2),[4,Gf(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,Qf(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function vh(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Go(e);return r.br(),new Bf(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:rh.bind(null,e),Ri:ih.bind(null,e),_r:oh.bind(null,e)}),e.Mr.push((function(n){return Ae(t,void 0,void 0,(function(){return De(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),eh(e)?Zf(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),nh(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function mh(e){var t=this;return e.Qr||(e.Qr=function(e,t,n){var r=Go(e);return r.br(),new zf(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:fh.bind(null,e),Ri:ph.bind(null,e),Ir:hh.bind(null,e),Tr:dh.bind(null,e)}),e.Mr.push((function(n){return Ae(t,void 0,void 0,(function(){return De(this,(function(t){switch(t.label){case 0:return n?(e.Qr.sr(),[4,sh(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:t.sent(),e.kr.length>0&&(qo("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Qr}var gh=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Nc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new jo(Fo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function bh(e,t){if(Bo("AsyncQueue",t+": "+e),Lc(e))return new jo(Fo.UNAVAILABLE,t+": "+e);throw e}var wh=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||wa.comparator(t.key,n.key)}:function(e,t){return wa.comparator(e.key,t.key)},this.keyedMap=fs(),this.sortedSet=new rs(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Eh=function(){function e(){this.Kr=new rs(wa.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Kr.get(t);n?0!==e.type&&3===n.type?this.Kr=this.Kr.insert(t,e):3===e.type&&1!==n.type?this.Kr=this.Kr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Kr=this.Kr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Kr=this.Kr.remove(t):1===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):Ho():this.Kr=this.Kr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),_h=function(){function e(e,t,n,r,i,o,a,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,wh.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Sh=function(){this.Wr=void 0,this.listeners=[]},Th=function(){this.queries=new Ol((function(e){return yu(e)}),pu),this.onlineState="Unknown",this.Gr=new Set};function kh(e,t){return Ae(this,void 0,void 0,(function(){var n,r,i,o,a,u,s;return De(this,(function(c){switch(c.label){case 0:if(n=Go(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Sh),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return u=c.sent(),s=bh(u,"Initialization of query '"+vu(t.query)+"' failed"),[2,void t.onError(s)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Nh(n),[2]}}))}))}function Ih(e,t){return Ae(this,void 0,void 0,(function(){var n,r,i,o,a;return De(this,(function(u){return n=Go(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function xh(e,t){for(var n=Go(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],u=a.query,s=n.queries.get(u);if(s){for(var c=0,l=s.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);s.Wr=a}}r&&Nh(n)}function Ch(e,t,n){var r=Go(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function Nh(e){e.Gr.forEach((function(e){e.next()}))}var Oh=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new _h(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=_h.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),Ah=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Dh=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return Fs(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?zs(this.R,e.document,!1):Ma.newNoDocument(this.qn(e.metadata.name),this.Qn(e.metadata.readTime))},e.prototype.Qn=function(e){return Ps(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=Ph(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new Dh(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),u=0,s=o.metadata.queries;u<s.length;u++){var c=s[u],l=(t.get(c)||ys()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return Ae(this,void 0,void 0,(function(){var e,t,n,r,i;return De(this,(function(o){switch(o.label){case 0:return[4,cf(this.localStore,new Dh(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,lf(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Kl(Object.assign({},this.progress),e))]}}))}))}}();function Ph(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Rh=function(e){this.key=e},Lh=function(e){this.key=e},Mh=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=ys(),this.mutatedKeys=ys(),this.lo=gu(e),this.fo=new wh(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Eh,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,u=!1,s=au(this.query)&&i.size===this.query.limit?i.last():null,c=uu(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=mu(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.lo(f,s)>0||c&&n.lo(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),au(this.query)||uu(this.query))for(;a.size>this.query.limit;){var l=au(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:u,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ho()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],u=0===this.ho.size&&this.current?1:0,s=u!==this.ao;return this.ao=u,0!==o.length||s?{snapshot:new _h(this.query,e.fo,i,o,e.mutatedKeys,0===u,s,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Eh,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=ys(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new Lh(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new Rh(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=ys();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return _h.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),Fh=function(e,t,n){this.query=e,this.targetId=t,this.view=n},jh=function(e){this.key=e,this.bo=!1},Uh=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Ol((function(e){return yu(e)}),pu),this.Vo=new Map,this.So=new Set,this.Do=new rs(wa.comparator),this.Co=new Map,this.No=new hf,this.xo={},this.Fo=new Map,this.ko=gl.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),e}();function Vh(e,t){return Ae(this,void 0,void 0,(function(){var n,r,i,o,a,u;return De(this,(function(s){switch(s.label){case 0:return n=yd(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,nf(n.localStore,hu(t))];case 2:return a=s.sent(),u=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,qh(n,t,r,"current"===u)];case 3:i=s.sent(),n.isPrimaryClient&&$f(n.remoteStore,a),s.label=4;case 4:return[2,i]}}))}))}function qh(e,t,n,r){return Ae(this,void 0,void 0,(function(){var i,o,a,u,s,c;return De(this,(function(l){switch(l.label){case 0:return e.$o=function(t,n,r){return function(e,t,n,r){return Ae(this,void 0,void 0,(function(){var i,o,a;return De(this,(function(u){switch(u.label){case 0:return(i=t.view._o(n)).Nn?[4,of(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(ed(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,of(e.localStore,t,!0)];case 1:return i=l.sent(),o=new Mh(t,i.Bn),a=o._o(i.documents),u=bs.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),s=o.applyChanges(a,e.isPrimaryClient,u),ed(e,n,s.To),c=new Fh(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),s.snapshot)]}}))}))}function Bh(e,t){return Ae(this,void 0,void 0,(function(){var n,r,i;return De(this,(function(o){switch(o.label){case 0:return n=Go(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!pu(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,rf(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Yf(n.remoteStore,r.targetId),Jh(n,r.targetId)})).catch(Sl)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Jh(n,r.targetId),[4,rf(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function zh(e,t,n){return Ae(this,void 0,void 0,(function(){var r,i,o,a;return De(this,(function(u){switch(u.label){case 0:r=vd(e),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(e,t){var n,r=Go(e),i=Zo.now(),o=t.reduce((function(e,t){return e.add(t.key)}),ys());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],u=0,s=t;u<s.length;u++){var c=s[u],l=Bu(c,n.get(c.key));null!=l&&a.push(new Wu(c.key,l,La(l.toProto().mapValue),Fu.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=u.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new rs(Yo)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,rd(r,i.changes)];case 3:return u.sent(),[4,sh(r.remoteStore)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),a=bh(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Kh(e,t){return Ae(this,void 0,void 0,(function(){var n,r;return De(this,(function(i){switch(i.label){case 0:n=Go(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Zl(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Wo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Wo(r.bo):e.removedDocuments.size>0&&(Wo(r.bo),r.bo=!1))})),[4,rd(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Sl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Hh(e,t,n){var r=Go(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Go(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&Nh(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Wh(e,t,n){return Ae(this,void 0,void 0,(function(){var r,i,o,a,u,s;return De(this,(function(c){switch(c.label){case 0:return(r=Go(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new rs(wa.comparator)).insert(o,Ma.newNoDocument(o,ea.min())),u=ys().add(o),s=new gs(ea.min(),new Map,new as(Yo),a,u),[4,Kh(r,s)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),nd(r),[3,4];case 2:return[4,rf(r.localStore,t,!1).then((function(){return Jh(r,t,n)})).catch(Sl)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Gh(e,t){return Ae(this,void 0,void 0,(function(){var n,r,i;return De(this,(function(o){switch(o.label){case 0:n=Go(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Xl(n.localStore,t)];case 2:return i=o.sent(),Xh(n,r,null),Yh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,rd(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Sl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Qh(e,t,n){return Ae(this,void 0,void 0,(function(){var r,i;return De(this,(function(o){switch(o.label){case 0:r=Go(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Go(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Wo(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),Xh(r,t,n),Yh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,rd(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Sl(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function $h(e,t){return Ae(this,void 0,void 0,(function(){var n,r,i,o,a;return De(this,(function(u){switch(u.label){case 0:th((n=Go(e)).remoteStore)||qo("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(e){var t=Go(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=u.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=u.sent(),a=bh(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Yh(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function Xh(e,t,n){var r=Go(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Jh(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Zh(e,t)}))}function Zh(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Yf(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),nd(e))}function ed(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Rh?(e.No.addReference(o.key,t),td(e,o)):o instanceof Lh?(qo("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Zh(e,o.key)):Ho()}}function td(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(qo("SyncEngine","New document in limbo: "+n),e.So.add(r),nd(e))}function nd(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new wa(oa.fromString(t)),r=e.ko.next();e.Co.set(r,new jh(n)),e.Do=e.Do.insert(n,r),$f(e.remoteStore,new Kc(hu(ou(n.path)),r,2,Mo.o))}}function rd(e,t,n){return Ae(this,void 0,void 0,(function(){var r,i,o,a;return De(this,(function(u){switch(u.label){case 0:return r=Go(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,u){a.push(r.$o(u,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Wl.Pn(u.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return u.sent(),r.vo._r(i),[4,function(e,t){return Ae(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,c,l;return De(this,(function(f){switch(f.label){case 0:n=Go(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Oc.forEach(t,(function(t){return Oc.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return Oc.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!Lc(r=f.sent()))throw r;return qo("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],u=a.targetId,a.fromCache||(s=n.Fn.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(u,l));return[2]}}))}))}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function id(e,t){return Ae(this,void 0,void 0,(function(){var n,r;return De(this,(function(i){switch(i.label){case 0:return(n=Go(e)).currentUser.isEqual(t)?[3,3]:(qo("SyncEngine","User change. New user:",t.toKey()),[4,Yl(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new jo(Fo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,rd(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function od(e,t){var n=Go(e),r=n.Co.get(t);if(r&&r.bo)return ys().add(r.key);var i=ys(),o=n.Vo.get(t);if(!o)return i;for(var a=0,u=o;a<u.length;a++){var s=u[a],c=n.Po.get(s);i=i.unionWith(c.view.wo)}return i}function ad(e,t){return Ae(this,void 0,void 0,(function(){var n,r,i;return De(this,(function(o){switch(o.label){case 0:return[4,of((n=Go(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&ed(n,t.targetId,i.To),i)]}}))}))}function ud(e){return Ae(this,void 0,void 0,(function(){var t;return De(this,(function(n){return[2,uf((t=Go(e)).localStore).then((function(e){return rd(t,e)}))]}))}))}function sd(e,t,n,r){return Ae(this,void 0,void 0,(function(){var i,o;return De(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Go(e),r=Go(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):Oc.resolve(null)}))}))}((i=Go(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,sh(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Xh(i,t,r||null),Yh(i,t),function(e,t){Go(Go(e)._n).Gt(t)}(i.localStore,t)):Ho(),a.label=4;case 4:return[4,rd(i,o)];case 5:return a.sent(),[3,7];case 6:qo("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function cd(e,t){return Ae(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,c;return De(this,(function(l){switch(l.label){case 0:return yd(n=Go(e)),vd(n),!0!==t||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,ld(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,yh(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)u=a[o],$f(n.remoteStore,u);return[3,7];case 3:return!1!==t||!1===n.Oo?[3,7]:(s=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?s.push(t):c=c.then((function(){return Jh(n,t),rf(n.localStore,t,!0)})),Yf(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,ld(n,s)];case 5:return l.sent(),function(e){var t=Go(e);t.Co.forEach((function(e,n){Yf(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new rs(wa.comparator)}(n),n.Oo=!1,[4,yh(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function ld(e,t,n){return Ae(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,c,l,f,h,d,p,y;return De(this,(function(v){switch(v.label){case 0:n=Go(e),r=[],i=[],o=0,a=t,v.label=1;case 1:return o<a.length?(u=a[o],s=void 0,(c=n.Vo.get(u))&&0!==c.length?[4,nf(n.localStore,hu(c[0]))]:[3,7]):[3,13];case 2:s=v.sent(),l=0,f=c,v.label=3;case 3:return l<f.length?(h=f[l],d=n.Po.get(h),[4,ad(n,d)]):[3,6];case 4:(p=v.sent()).snapshot&&i.push(p.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,af(n.localStore,u)];case 8:return y=v.sent(),[4,nf(n.localStore,y)];case 9:return s=v.sent(),[4,qh(n,fd(y),u,!1)];case 10:v.sent(),v.label=11;case 11:r.push(s),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function fd(e){return iu(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function hd(e){var t=Go(e);return Go(Go(t.localStore).persistence).fn()}function dd(e,t,n,r){return Ae(this,void 0,void 0,(function(){var i,o,a;return De(this,(function(u){switch(u.label){case 0:return(i=Go(e)).Oo?(qo("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,uf(i.localStore)];case 3:return o=u.sent(),a=gs.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,rd(i,o,a)];case 4:return u.sent(),[3,8];case 5:return[4,rf(i.localStore,t,!0)];case 6:return u.sent(),Jh(i,t,r),[3,8];case 7:Ho(),u.label=8;case 8:return[2]}}))}))}function pd(e,t,n){return Ae(this,void 0,void 0,(function(){var r,i,o,a,u,s,c,l,f,h;return De(this,(function(d){switch(d.label){case 0:if(!(r=yd(e)).Oo)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(qo("SyncEngine","Adding an already active target "+a),[3,5]):[4,af(r.localStore,a)]):[3,6];case 2:return u=d.sent(),[4,nf(r.localStore,u)];case 3:return s=d.sent(),[4,qh(r,fd(u),s.targetId,!1)];case 4:d.sent(),$f(r.remoteStore,s),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return De(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,rf(r.localStore,e,!1).then((function(){Yf(r.remoteStore,e),Jh(r,e)})).catch(Sl)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function yd(e){var t=Go(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Kh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=od.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Wh.bind(null,t),t.vo._r=xh.bind(null,t.eventManager),t.vo.Mo=Ch.bind(null,t.eventManager),t}function vd(e){var t=Go(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Gh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Qh.bind(null,t),t}var md=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Ae(this,void 0,void 0,(function(){return De(this,(function(t){switch(t.label){case 0:return this.R=Uf(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Qo=function(e){return $l(this.persistence,new Gl,e.initialUser,this.R)},e.prototype.qo=function(e){return new gf(wf.bs,this.R)},e.prototype.Bo=function(e){return new Af},e.prototype.terminate=function(){return Ae(this,void 0,void 0,(function(){return De(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),gd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Ko=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Ne(t,e),t.prototype.initialize=function(t){return Ae(this,void 0,void 0,(function(){return De(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,sf(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,t)];case 3:return n.sent(),[4,vd(this.Ko.syncEngine)];case 4:return n.sent(),[4,sh(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Qo=function(e){return $l(this.persistence,new Gl,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Il(t,e.asyncQueue)},t.prototype.qo=function(e){var t=zl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ll.withCacheSize(this.cacheSizeBytes):ll.DEFAULT;return new Vl(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ff(),jf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new Af},t}(md),bd=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Ko=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Ne(t,e),t.prototype.initialize=function(t){return Ae(this,void 0,void 0,(function(){var n,r=this;return De(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Of?(this.sharedClientState.syncEngine={ui:sd.bind(null,n),ai:dd.bind(null,n),hi:pd.bind(null,n),fn:hd.bind(null,n),ci:ud.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return Ae(r,void 0,void 0,(function(){return De(this,(function(t){switch(t.label){case 0:return[4,cd(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=Ff();if(!Of.yt(t))throw new jo(Fo.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=zl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Of(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(gd),wd=function(){function e(){}return e.prototype.initialize=function(e,t){return Ae(this,void 0,void 0,(function(){var n=this;return De(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Hh(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=id.bind(null,this.syncEngine),[4,yh(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Th},e.prototype.createDatastore=function(e){var t,n=Uf(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Mf(t));return function(e,t,n){return new Kf(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Hh(a.syncEngine,e,0)},o=Pf.yt()?new Pf:new Df,new Wf(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var u=new Uh(e,t,n,r,i,o);return a&&(u.Oo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return Ae(this,void 0,void 0,(function(){var t;return De(this,(function(n){switch(n.label){case 0:return t=Go(e),qo("RemoteStore","RemoteStore shutting down."),t.$r.add(5),[4,Qf(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();var Ed=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),_d=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new Nc,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return Ae(this,void 0,void 0,(function(){return De(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return Ae(this,void 0,void 0,(function(){return De(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return Ae(this,void 0,void 0,(function(){var e,t,n,r;return De(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Ah(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return Ae(this,void 0,void 0,(function(){var e,t;return De(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return Ae(this,void 0,void 0,(function(){var t;return De(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return Ae(this,void 0,void 0,(function(){var e,t;return De(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Ae(this,void 0,void 0,(function(){var t,n=this;return De(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new jo(Fo.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Ae(this,void 0,void 0,(function(){var n,r,i,o,a,u;return De(this,(function(s){switch(s.label){case 0:return n=Go(e),r=Vs(n.R)+"/documents",i={documents:t.map((function(e){return Ms(n.R,e)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=s.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Wo(!!t.found),t.found.name,t.found.updateTime;var n=Fs(e,t.found.name),r=Ps(t.found.updateTime),i=new Ra({mapValue:{fields:t.found.fields}});return Ma.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Wo(!!t.missing),Wo(!!t.readTime);var n=Fs(e,t.missing),r=Ps(t.readTime);return Ma.newNoDocument(n,r)}(e,t):Ho()}(n.R,e);a.set(t.key.toString(),t)})),u=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Wo(!!t),u.push(t)})),u)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Ju(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return Ae(this,void 0,void 0,(function(){var e,t=this;return De(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=wa.fromPath(n);t.mutations.push(new Zu(r,t.precondition(r)))})),[4,function(e,t){return Ae(this,void 0,void 0,(function(){var n,r,i;return De(this,(function(o){switch(o.label){case 0:return n=Go(e),r=Vs(n.R)+"/documents",i={writes:t.map((function(e){return Ks(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ho();t=ea.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new jo(Fo.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Fu.updateTime(t):Fu.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ea.min()))throw new jo(Fo.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fu.updateTime(t)}return Fu.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),Sd=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Vf(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return Ae(e,void 0,void 0,(function(){var e,t,n=this;return De(this,(function(r){return e=new _d(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!ma(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!ts(t)}return!1},e}(),Td=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Ef.UNAUTHENTICATED,this.clientId=$o.u(),this.credentialListener=function(){},this.receivedInitialUser=new Nc,this.credentials.setChangeListener((function(e){qo("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}return e.prototype.getConfiguration=function(){return Ae(this,void 0,void 0,(function(){return De(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},e.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new jo(Fo.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Nc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Ae(e,void 0,void 0,(function(){var e,n;return De(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=bh(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function kd(e,t){return Ae(this,void 0,void 0,(function(){var n,r,i=this;return De(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),qo("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return Ae(i,void 0,void 0,(function(){return De(this,(function(e){switch(e.label){case 0:return[4,Yl(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function Id(e,t){return Ae(this,void 0,void 0,(function(){var n,r;return De(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,xd(e)];case 1:return n=i.sent(),qo("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return Ae(this,void 0,void 0,(function(){var n,r;return De(this,(function(i){switch(i.label){case 0:return(n=Go(e)).asyncQueue.verifyOperationInProgress(),qo("RemoteStore","RemoteStore received new credentials"),r=th(n),n.$r.add(3),[4,Qf(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.$r.delete(3),[4,Gf(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function xd(e){return Ae(this,void 0,void 0,(function(){return De(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(qo("FirestoreClient","Using default OfflineComponentProvider"),[4,kd(e,new md)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function Cd(e){return Ae(this,void 0,void 0,(function(){return De(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(qo("FirestoreClient","Using default OnlineComponentProvider"),[4,Id(e,new wd)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function Nd(e){return xd(e).then((function(e){return e.persistence}))}function Od(e){return xd(e).then((function(e){return e.localStore}))}function Ad(e){return Cd(e).then((function(e){return e.remoteStore}))}function Dd(e){return Cd(e).then((function(e){return e.syncEngine}))}function Pd(e){return Ae(this,void 0,void 0,(function(){var t,n;return De(this,(function(r){switch(r.label){case 0:return[4,Cd(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=Vh.bind(null,t.syncEngine),n.onUnlisten=Bh.bind(null,t.syncEngine),n)]}}))}))}function Rd(e,t,n){var r=this;void 0===n&&(n={});var i=new Nc;return e.asyncQueue.enqueueAndForget((function(){return Ae(r,void 0,void 0,(function(){var r;return De(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Ed({next:function(o){t.enqueueAndForget((function(){return Ih(e,a)}));var u=o.docs.has(n);!u&&o.fromCache?i.reject(new jo(Fo.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new jo(Fo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new Oh(ou(n.path),o,{includeMetadataChanges:!0,so:!0});return kh(e,a)},[4,Pd(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function Ld(e,t,n){var r=this;void 0===n&&(n={});var i=new Nc;return e.asyncQueue.enqueueAndForget((function(){return Ae(r,void 0,void 0,(function(){var r;return De(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Ed({next:function(n){t.enqueueAndForget((function(){return Ih(e,a)})),n.fromCache&&"server"===r.source?i.reject(new jo(Fo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new Oh(n,o,{includeMetadataChanges:!0,so:!0});return kh(e,a)},[4,Pd(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var Md=function(e,t,n,r,i,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},Fd=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),jd=new Map,Ud=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Vd=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(Ef.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),qd=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(this.token.user)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Bd=function(){function e(e){var t=this;this.oc=null,this.currentUser=Ef.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){t.cc++,t.currentUser=t.uc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.cc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),e.get().then((function(e){t.auth=e,t.oc&&t.auth.addAuthTokenListener(t.oc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(qo("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Wo("string"==typeof n.accessToken),new Ud(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var e=this.auth&&this.auth.getUid();return Wo(null===e||"string"==typeof e),new Ef(e)},e}(),zd=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n,this.type="FirstParty",this.user=Ef.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.hc},t=this.ac.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.lc&&(e["X-Goog-Iam-Authorization-Token"]=this.lc),e},enumerable:!1,configurable:!0}),e}(),Kd=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n}return e.prototype.getToken=function(){return Promise.resolve(new zd(this.ac,this.hc,this.lc))},e.prototype.setChangeListener=function(e){e(Ef.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Hd(e,t,n){if(!n)throw new jo(Fo.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Wd(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new jo(Fo.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Gd(e,t,n,r){if(!0===t&&!0===r)throw new jo(Fo.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Qd(e){if(!wa.isDocumentKey(e))throw new jo(Fo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function $d(e){if(wa.isDocumentKey(e))throw new jo(Fo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Yd(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Ho()}function Xd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new jo(Fo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Yd(e);throw new jo(Fo.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Jd(e,t){if(t<=0)throw new jo(Fo.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Zd=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new jo(Fo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new jo(Fo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,Gd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),ep=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zd({}),this._settingsFrozen=!1,e instanceof Fd?(this._databaseId=e,this._credentials=new Vd):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new jo(Fo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fd(e.options.projectId)}(e),this._credentials=new Bd(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new jo(Fo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new jo(Fo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zd(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Vd;switch(e.type){case"gapi":var t=e.client;return Wo(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Kd(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new jo(Fo.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=jd.get(this))&&(qo("ComponentProvider","Removing Datastore"),jd.delete(this),e.terminate()),Promise.resolve();var e},e}(),tp=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new rp(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),np=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),rp=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,ou(r))||this)._path=r,i.type="collection",i}return Ne(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new tp(this.firestore,null,new wa(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(np);function ip(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Ye(e),Hd("collection","path",t),e instanceof ep)return $d(n=oa.fromString.apply(oa,Le([t],r))),new rp(e,null,n);if(!(e instanceof tp||e instanceof rp))throw new jo(Fo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return $d(n=oa.fromString.apply(oa,Le([e.path],r)).child(oa.fromString(t))),new rp(e.firestore,null,n)}function op(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Ye(e),1===arguments.length&&(t=$o.u()),Hd("doc","path",t),e instanceof ep)return Qd(n=oa.fromString.apply(oa,Le([t],r))),new tp(e,null,new wa(n));if(!(e instanceof tp||e instanceof rp))throw new jo(Fo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Qd(n=e._path.child(oa.fromString.apply(oa,Le([t],r)))),new tp(e.firestore,e instanceof rp?e.converter:null,new wa(n))}function ap(e,t){return e=Ye(e),t=Ye(t),(e instanceof tp||e instanceof rp)&&(t instanceof tp||t instanceof rp)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function up(e,t){return e=Ye(e),t=Ye(t),e instanceof np&&t instanceof np&&e.firestore===t.firestore&&pu(e._query,t._query)&&e.converter===t.converter}var sp=function(){function e(){var e=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Vf(this,"async_queue_retry"),this.Ec=function(){var t=jf();t&&qo("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=jf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Tc(),this.Ic(e)},e.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var e=jf();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ec)}},e.prototype.enqueue=function(e){return this.Tc(),this.wc?new Promise((function(e){})):this.Ic(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.dc.push(e),t.Ac()}))},e.prototype.Ac=function(){return Ae(this,void 0,void 0,(function(){var e,t=this;return De(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Lc(e=n.sent()))throw e;return qo("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return t.Ac()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Ic=function(e){var t=this,n=this.fc.then((function(){return t.yc=!0,e().catch((function(e){throw t.mc=e,t.yc=!1,Bo("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.yc=!1,e}))}));return this.fc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Tc(),this.gc.indexOf(e)>-1&&(t=0);var i=gh.createAndSchedule(this,e,t,n,(function(e){return r.Rc(e)}));return this._c.push(i),i},e.prototype.Tc=function(){this.mc&&Ho()},e.prototype.verifyOperationInProgress=function(){},e.prototype.bc=function(){return Ae(this,void 0,void 0,(function(){var e;return De(this,(function(t){switch(t.label){case 0:return[4,e=this.fc];case 1:t.sent(),t.label=2;case 2:if(e!==this.fc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.vc=function(e){for(var t=0,n=this._c;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Pc=function(e){var t=this;return this.bc().then((function(){t._c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.bc()}))},e.prototype.Vc=function(e){this.gc.push(e)},e.prototype.Rc=function(e){var t=this._c.indexOf(e);this._c.splice(t,1)},e}();function cp(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Nc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var lp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new sp,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Ne(t,e),t.prototype._terminate=function(){return this._firestoreClient||hp(this),this._firestoreClient.terminate()},t}(ep);function fp(e){return e._firestoreClient||hp(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hp(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Md(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Td(e._credentials,e._queue,r)}function dp(e,t,n){var r=this,i=new Nc;return e.asyncQueue.enqueue((function(){return Ae(r,void 0,void 0,(function(){var r;return De(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,kd(e,n)];case 1:return o.sent(),[4,Id(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Fo.FAILED_PRECONDITION||e.code===Fo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function pp(e){if(e._initialized||e._terminated)throw new jo(Fo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var yp=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new jo(Fo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ua(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),vp=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(ca.fromBase64String(t))}catch(t){throw new jo(Fo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(ca.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),mp=function(e){this._methodName=e},gp=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new jo(Fo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new jo(Fo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Yo(this._lat,e._lat)||Yo(this._long,e._long)},e}(),bp=/^__.*__$/,wp=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Wu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hu(e,this.data,t,this.fieldTransforms)},e}(),Ep=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Wu(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function _p(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ho()}}var Sp=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),e.prototype.Cc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Nc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Fc(e),r},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Sc(),r},e.prototype.Oc=function(e){return this.Cc({path:void 0,xc:!0})},e.prototype.$c=function(e){return zp(e,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Sc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Fc(this.path.get(e))},e.prototype.Fc=function(e){if(0===e.length)throw this.$c("Document fields must not be empty");if(_p(this.Dc)&&bp.test(e))throw this.$c('Document fields cannot begin and end with "__"')},e}(),Tp=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||Uf(e)}return e.prototype.Bc=function(e,t,n,r){return void 0===r&&(r=!1),new Sp({Dc:e,methodName:t,Lc:n,path:ua.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function kp(e){var t=e._freezeSettings(),n=Uf(e._databaseId);return new Tp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ip(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Bc(o.merge||o.mergeFields?2:0,t,n,i);Up("Data must be an object, but it was:",a,r);var u,s,c=Fp(r,a);if(o.merge)u=new sa(a.fieldMask),s=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=Vp(t,h[f],n);if(!a.contains(d))throw new jo(Fo.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Kp(l,d)||l.push(d)}u=new sa(l),s=a.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=a.fieldTransforms;return new wp(new Ra(c),u,s)}var xp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ne(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Dc)throw 1===e.Dc?e.$c(this._methodName+"() can only appear at the top level of your update data"):e.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(mp);function Cp(e,t,n){return new Sp({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Np=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ne(t,e),t.prototype._toFieldTransform=function(e){return new Lu(e.path,new xu)},t.prototype.isEqual=function(e){return e instanceof t},t}(mp),Op=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return Ne(t,e),t.prototype._toFieldTransform=function(e){var t=Cp(this,e,!0),n=this.qc.map((function(e){return Mp(e,t)})),r=new Cu(n);return new Lu(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(mp),Ap=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return Ne(t,e),t.prototype._toFieldTransform=function(e){var t=Cp(this,e,!0),n=this.qc.map((function(e){return Mp(e,t)})),r=new Ou(n);return new Lu(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(mp),Dp=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Uc=n,r}return Ne(t,e),t.prototype._toFieldTransform=function(e){var t=new Du(e.R,_u(e.R,this.Uc));return new Lu(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(mp);function Pp(e,t,n,r){var i=e.Bc(1,t,n);Up("Data must be an object, but it was:",i,r);var o=[],a=Ra.empty();na(r,(function(e,r){var u=Bp(t,e,n);r=Ye(r);var s=i.kc(u);if(r instanceof xp)o.push(u);else{var c=Mp(r,s);null!=c&&(o.push(u),a.set(u,c))}}));var u=new sa(o);return new Ep(a,u,i.fieldTransforms)}function Rp(e,t,n,r,i,o){var a=e.Bc(1,t,n),u=[Vp(t,r,n)],s=[i];if(o.length%2!=0)throw new jo(Fo.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(Vp(t,o[c])),s.push(o[c+1]);for(var l=[],f=Ra.empty(),h=u.length-1;h>=0;--h)if(!Kp(l,u[h])){var d=u[h],p=s[h];p=Ye(p);var y=a.kc(d);if(p instanceof xp)l.push(d);else{var v=Mp(p,y);null!=v&&(l.push(d),f.set(d,v))}}var m=new sa(l);return new Ep(f,m,a.fieldTransforms)}function Lp(e,t,n,r){return void 0===r&&(r=!1),Mp(n,e.Bc(r?4:3,t))}function Mp(e,t){if(jp(e=Ye(e)))return Up("Unsupported field value:",t,e),Fp(e,t);if(e instanceof mp)return function(e,t){if(!_p(t.Dc))throw t.$c(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.$c(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&4!==t.Dc)throw t.$c("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Mp(o[i],t.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ye(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return _u(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Zo.fromDate(e);return{timestampValue:Os(t.R,n)}}if(e instanceof Zo)return n=new Zo(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:Os(t.R,n)};if(e instanceof gp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof vp)return{bytesValue:As(t.R,e._byteString)};if(e instanceof tp){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Rs(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.$c("Unsupported field value: "+Yd(e))}(e,t)}function Fp(e,t){var n={};return ra(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):na(e,(function(e,r){var i=Mp(r,t.Nc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function jp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Zo||e instanceof gp||e instanceof vp||e instanceof tp||e instanceof mp)}function Up(e,t,n){if(!jp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Yd(n);throw"an object"===r?t.$c(e+" a custom object"):t.$c(e+" "+r)}}function Vp(e,t,n){if((t=Ye(t))instanceof yp)return t._internalPath;if("string"==typeof t)return Bp(e,t);throw zp("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var qp=new RegExp("[~\\*/\\[\\]]");function Bp(e,t,n){if(t.search(qp)>=0)throw zp("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(yp.bind.apply(yp,Le([void 0],t.split(".")))))._internalPath}catch(Kt){throw zp("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function zp(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,u="Function "+t+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var s="";return(o||a)&&(s+=" (found",o&&(s+=" in field "+r),a&&(s+=" in document "+i),s+=")"),new jo(Fo.INVALID_ARGUMENT,(u+=". ")+e+s)}function Kp(e,t){return e.some((function(e){return e.isEqual(t)}))}var Hp=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new tp(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Wp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Gp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Wp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ne(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Hp);function Gp(e,t){return"string"==typeof t?Bp(e,t):t instanceof yp?t._internalPath:t._delegate._internalPath}var Qp=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),$p=function(e){function t(t,n,r,i,o,a){var u=this;return(u=e.call(this,t,n,r,i,a)||this)._firestore=t,u._firestoreImpl=t,u.metadata=o,u}return Ne(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Yp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.toProto(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Gp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Hp),Yp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ne(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}($p),Xp=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Qp(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Yp(n._firestore,n._userDataWriter,r.key,r,new Qp(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new jo(Fo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Yp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Qp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Yp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Qp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Jp(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Jp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ho()}}function Zp(e,t){return e instanceof $p&&t instanceof $p?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Xp&&t instanceof Xp&&e._firestore===t._firestore&&up(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function ey(e){if(uu(e)&&0===e.explicitOrderBy.length)throw new jo(Fo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ty=function(){};function ny(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){e=i[r]._apply(e)}return e}var ry=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qc=t,i.Kc=n,i.jc=r,i.type="where",i}return Ne(t,e),t.prototype._apply=function(e){var t=kp(e.firestore),n=function(e,t,n,r,i,o,a){var u;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new jo(Fo.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ly(a,o);for(var s=[],c=0,l=a;c<l.length;c++){var f=l[c];s.push(cy(r,e,f))}u={arrayValue:{values:s}}}else u=cy(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ly(a,o),u=Lp(n,"where",a,"in"===o||"not-in"===o);var h=Ba.create(i,o,u);return function(e,t){if(t.g()){var n=cu(e);if(null!==n&&!n.isEqual(t.field))throw new jo(Fo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=su(e);null!==r&&fy(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new jo(Fo.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new jo(Fo.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Qc,this.Kc,this.jc);return new np(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ru(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(ty),iy=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Qc=t,r.Wc=n,r.type="orderBy",r}return Ne(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new jo(Fo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new jo(Fo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Za(t,n);return function(e,t){if(null===su(e)){var n=cu(e);null!==n&&fy(e,n,t.field)}}(e,r),r}(e._query,this.Qc,this.Wc);return new np(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ru(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(ty),oy=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Gc=n,i.zc=r,i}return Ne(t,e),t.prototype._apply=function(e){return new np(e.firestore,e.converter,du(e._query,this.Gc,this.zc))},t}(ty),ay=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return Ne(t,e),t.prototype._apply=function(e){var t=sy(e,this.type,this.Hc,this.Jc);return new np(e.firestore,e.converter,function(e,t){return new ru(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(ty),uy=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return Ne(t,e),t.prototype._apply=function(e){var t=sy(e,this.type,this.Hc,this.Jc);return new np(e.firestore,e.converter,function(e,t){return new ru(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(ty);function sy(e,t,n,r){if(n[0]=Ye(n[0]),n[0]instanceof Hp)return function(e,t,n,r,i){if(!r)throw new jo(Fo.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,u=fu(e);a<u.length;a++){var s=u[a];if(s.field.isKeyField())o.push(Ca(t,r.key));else{var c=r.data.field(s.field);if(pa(c))throw new jo(Fo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new jo(Fo.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Xa(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=kp(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new jo(Fo.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],s=0;s<i.length;s++){var c=i[s];if(a[s].field.isKeyField()){if("string"!=typeof c)throw new jo(Fo.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!lu(e)&&-1!==c.indexOf("/"))throw new jo(Fo.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(oa.fromString(c));if(!wa.isDocumentKey(l))throw new jo(Fo.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new wa(l);u.push(Ca(t,f))}else{var h=Lp(n,r,c);u.push(h)}}return new Xa(u,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function cy(e,t,n){if("string"==typeof(n=Ye(n))){if(""===n)throw new jo(Fo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!lu(t)&&-1!==n.indexOf("/"))throw new jo(Fo.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(oa.fromString(n));if(!wa.isDocumentKey(r))throw new jo(Fo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ca(e,new wa(r))}if(n instanceof tp)return Ca(e,n._key);throw new jo(Fo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Yd(n)+".")}function ly(e,t){if(!Array.isArray(e)||0===e.length)throw new jo(Fo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new jo(Fo.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function fy(e,t,n){if(!n.isEqual(t))throw new jo(Fo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var hy=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ha(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ho()}},e.prototype.convertObject=function(e,t){var n=this,r={};return na(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new gp(ha(e.latitude),ha(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=ya(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(va(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=fa(e);return new Zo(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=oa.fromString(e);Wo(oc(n));var r=new Fd(n.get(1),n.get(3)),i=new wa(n.popFirst(5));return r.isEqual(t)||Bo("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function dy(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var py=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Ne(t,e),t.prototype.convertBytes=function(e){return new vp(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new tp(this.firestore,null,t)},t}(hy),yy=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=kp(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=vy(e,this._firestore),i=dy(r.converter,t,n),o=Ip(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Fu.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=vy(e,this._firestore);return o="string"==typeof(t=Ye(t))||t instanceof yp?Rp(this._dataReader,"WriteBatch.update",a._key,t,n,r):Pp(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,Fu.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=vy(e,this._firestore);return this._mutations=this._mutations.concat(new Ju(t._key,Fu.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new jo(Fo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function vy(e,t){if((e=Ye(e)).firestore!==t)throw new jo(Fo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var my=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Ne(t,e),t.prototype.convertBytes=function(e){return new vp(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new tp(this.firestore,null,t)},t}(hy);function gy(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Xd(e,tp);var o=Xd(e.firestore,lp),a=kp(o);return wy(o,[("string"==typeof(t=Ye(t))||t instanceof yp?Rp(a,"updateDoc",e._key,t,n,r):Pp(a,"updateDoc",e._key,t)).toMutation(e._key,Fu.exists(!0))])}function by(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=Ye(e);var a={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||cp(i[u])||(a=i[u],u++);var s,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(cp(i[u])){var h=i[u];i[u]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[u+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[u+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof tp)c=Xd(e.firestore,lp),l=ou(e._key.path),s={next:function(t){i[u]&&i[u](Ey(c,e,t))},error:i[u+1],complete:i[u+2]};else{var d=Xd(e,np);c=Xd(d.firestore,lp),l=d._query;var p=new my(c);s={next:function(e){i[u]&&i[u](new Xp(c,p,d,e))},error:i[u+1],complete:i[u+2]},ey(e._query)}return function(e,t,n,r){var i=this,o=new Ed(r),a=new Oh(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return Ae(i,void 0,void 0,(function(){var t;return De(this,(function(n){switch(n.label){case 0:return t=kh,[4,Pd(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return Ae(i,void 0,void 0,(function(){var t;return De(this,(function(n){switch(n.label){case 0:return t=Ih,[4,Pd(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(fp(c),l,f,s)}function wy(e,t){return function(e,t){var n=this,r=new Nc;return e.asyncQueue.enqueueAndForget((function(){return Ae(n,void 0,void 0,(function(){var n;return De(this,(function(i){switch(i.label){case 0:return n=zh,[4,Dd(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(fp(e),t)}function Ey(e,t,n){var r=n.docs.get(t._key),i=new my(e);return new $p(e,i,t._key,r,new Qp(n.hasPendingWrites,n.fromCache),t.converter)}var _y=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Ne(t,e),t.prototype.get=function(t){var n=this,r=vy(t,this._firestore),i=new my(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new $p(n._firestore,i,r._key,e._document,new Qp(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=kp(e)}return e.prototype.get=function(e){var t=this,n=vy(e,this._firestore),r=new py(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ho();var i=e[0];if(i.isFoundDocument())return new Hp(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Hp(t._firestore,r,n._key,null,n.converter);throw Ho()}))},e.prototype.set=function(e,t,n){var r=vy(e,this._firestore),i=dy(r.converter,t,n),o=Ip(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=vy(e,this._firestore);return o="string"==typeof(t=Ye(t))||t instanceof yp?Rp(this._dataReader,"Transaction.update",a._key,t,n,r):Pp(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=vy(e,this._firestore);return this._transaction.delete(t._key),this},e}());function Sy(){if("undefined"==typeof Uint8Array)throw new jo(Fo.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ty(){if("undefined"==typeof atob)throw new jo(Fo.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ky=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return Ty(),new e(vp.fromBase64String(t))},e.fromUint8Array=function(t){return Sy(),new e(vp.fromUint8Array(t))},e.prototype.toBase64=function(){return Ty(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Sy(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Iy=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){pp(e=Xd(e,lp));var n=fp(e),r=e._freezeSettings(),i=new wd;return dp(n,i,new gd(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){pp(e=Xd(e,lp));var t=fp(e),n=e._freezeSettings(),r=new wd;return dp(t,r,new bd(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new jo(Fo.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Nc;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return Ae(t,void 0,void 0,(function(){var t;return De(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return Ae(this,void 0,void 0,(function(){var t;return De(this,(function(n){switch(n.label){case 0:return Dc.yt()?(t=e+"main",[4,Dc.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(zl(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),xy=function(){function e(e,t,n){var r=this;this._delegate=t,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof Fd||(this.Xc=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var i=(e=Xd(e,ep))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&zo("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){var o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=Oe({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Fe.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),Fe.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new jo(Fo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new qd(new Ud(o,new Ef(a)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Ae(t,void 0,void 0,(function(){var t,n;return De(this,(function(r){switch(r.label){case 0:return[4,Nd(e)];case 1:return t=r.sent(),[4,Ad(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Go(e);return t.$r.delete(0),Gf(t)}(n))]}}))}))}))}(fp(Xd(this._delegate,lp)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Ae(t,void 0,void 0,(function(){var t,n;return De(this,(function(r){switch(r.label){case 0:return[4,Nd(e)];case 1:return t=r.sent(),[4,Ad(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Ae(this,void 0,void 0,(function(){var t;return De(this,(function(n){switch(n.label){case 0:return(t=Go(e)).$r.add(0),[4,Qf(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(fp(Xd(this._delegate,lp)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Gd("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new Nc;return e.asyncQueue.enqueueAndForget((function(){return Ae(t,void 0,void 0,(function(){var t;return De(this,(function(r){switch(r.label){case 0:return t=$h,[4,Dd(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(fp(Xd(this._delegate,lp)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Ed(t);return e.asyncQueue.enqueueAndForget((function(){return Ae(n,void 0,void 0,(function(){var t;return De(this,(function(n){switch(n.label){case 0:return t=function(e,t){Go(e).Gr.add(t),t.next()},[4,Pd(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return Ae(n,void 0,void 0,(function(){var t;return De(this,(function(n){switch(n.label){case 0:return t=function(e,t){Go(e).Gr.delete(t)},[4,Pd(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(fp(e=Xd(e,lp)),cp(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Xc)throw new jo(Fo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new qy(this,ip(this._delegate,e))}catch(e){throw Py(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new Dy(this,op(this._delegate,e))}catch(e){throw Py(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new jy(this,function(e,t){if(e=Xd(e,ep),Hd("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new jo(Fo.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new np(e,null,function(e){return new ru(oa.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Py(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new Nc;return e.asyncQueue.enqueueAndForget((function(){return Ae(n,void 0,void 0,(function(){var n;return De(this,(function(i){switch(i.label){case 0:return[4,function(e){return Cd(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new Sd(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(fp(e),(function(n){return t(new _y(e,n))}))}(this._delegate,(function(n){return e(new Ny(t,n))}))},e.prototype.batch=function(){var e=this;return fp(this._delegate),new Oy(new yy(this._delegate,(function(t){return wy(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new jo(Fo.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new jo(Fo.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Cy=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Ne(t,e),t.prototype.convertBytes=function(e){return new ky(new vp(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Dy.Zc(t,this.firestore,null)},t}(hy);var Ny=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Cy(e)}return e.prototype.get=function(e){var t=this,n=By(e);return this._delegate.get(n).then((function(e){return new My(t._firestore,new $p(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=By(e);return n?(Wd("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=By(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Le([a,t,n],i)),this},e.prototype.delete=function(e){var t=By(e);return this._delegate.delete(t),this},e}(),Oy=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=By(e);return n?(Wd("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=By(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,Le([a,t,n],i)),this},e.prototype.delete=function(e){var t=By(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Ay=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Yp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Fy(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.tu=function(t,n){var r=e.eu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Cy(t),n),i.set(n,o)),o},e}();Ay.eu=new WeakMap;var Dy=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Cy(e)}return e.nu=function(t,n,r){if(t.length%2!=0)throw new jo(Fo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new tp(n._delegate,r,new wa(t)))},e.Zc=function(t,n,r){return new e(n,new tp(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new qy(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new qy(this.firestore,ip(this._delegate,e))}catch(e){throw Py(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Ye(e))instanceof tp&&ap(this._delegate,e)},e.prototype.set=function(e,t){t=Wd("DocumentReference.set",t);try{return function(e,t,n){e=Xd(e,tp);var r=Xd(e.firestore,lp),i=dy(e.converter,t,n);return wy(r,[Ip(kp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Fu.none())])}(this._delegate,e,t)}catch(e){throw Py(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?gy(this._delegate,e):gy.apply(void 0,Le([this._delegate,e,t],n))}catch(e){throw Py(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return wy(Xd((e=this._delegate).firestore,lp),[new Ju(e._key,Fu.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Ry(t),i=Ly(t,(function(t){return new My(e.firestore,new $p(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return by(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Xd(e,tp);var t=Xd(e.firestore,lp),n=fp(t),r=new my(t);return function(e,t){var n=this,r=new Nc;return e.asyncQueue.enqueueAndForget((function(){return Ae(n,void 0,void 0,(function(){var n;return De(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Ae(this,void 0,void 0,(function(){var r,i;return De(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Go(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new jo(Fo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=bh(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Od(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new $p(t,r,e._key,n,new Qp(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Xd(e,tp);var t=Xd(e.firestore,lp);return Rd(fp(t),e._key,{source:"server"}).then((function(n){return Ey(t,e,n)}))}(this._delegate):function(e){e=Xd(e,tp);var t=Xd(e.firestore,lp);return Rd(fp(t),e._key).then((function(n){return Ey(t,e,n)}))}(this._delegate)).then((function(e){return new My(t.firestore,new $p(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ay.tu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Py(e,t,n){return e.message=e.message.replace(t,n),e}function Ry(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!cp(r))return r}return{}}function Ly(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=cp(e[0])?e[0]:cp(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var My=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Dy(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Zp(this._delegate,e._delegate)},e}(),Fy=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ne(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(My),jy=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Cy(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,ny(this._delegate,function(e,t,n){var r=t,i=Gp("where",e);return new ry(i,r,n)}(t,n,r)))}catch(t){throw Py(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,ny(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Gp("orderBy",e);return new iy(r,n)}(t,n)))}catch(t){throw Py(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,ny(this._delegate,function(e){return Jd("limit",e),new oy("limit",e,"F")}(t)))}catch(t){throw Py(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,ny(this._delegate,function(e){return Jd("limitToLast",e),new oy("limitToLast",e,"L")}(t)))}catch(t){throw Py(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ny(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ay("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw Py(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ny(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ay("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw Py(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ny(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new uy("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw Py(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ny(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new uy("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw Py(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return up(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Xd(e,np);var t=Xd(e.firestore,lp),n=fp(t),r=new my(t);return function(e,t){var n=this,r=new Nc;return e.asyncQueue.enqueueAndForget((function(){return Ae(n,void 0,void 0,(function(){var n;return De(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Ae(this,void 0,void 0,(function(){var r,i,o,a,u;return De(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,of(e,t,!0)];case 1:return u=s.sent(),r=new Mh(t,u.Bn),i=r._o(u.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=s.sent(),u=bh(a,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,Od(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Xp(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Xd(e,np);var t=Xd(e.firestore,lp),n=fp(t),r=new my(t);return Ld(n,e._query,{source:"server"}).then((function(n){return new Xp(t,r,e,n)}))}(this._delegate):function(e){e=Xd(e,np);var t=Xd(e.firestore,lp),n=fp(t),r=new my(t);return ey(e._query),Ld(n,e._query).then((function(n){return new Xp(t,r,e,n)}))}(this._delegate)).then((function(e){return new Vy(t.firestore,new Xp(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Ry(t),i=Ly(t,(function(t){return new Vy(e.firestore,new Xp(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return by(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ay.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Uy=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Fy(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Vy=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new jy(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Fy(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Uy(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Fy(n._firestore,r))}))},e.prototype.isEqual=function(e){return Zp(this._delegate,e._delegate)},e}(),qy=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Ne(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Dy(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new Dy(this.firestore,void 0===e?op(this._delegate):op(this._delegate,e))}catch(e){throw Py(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Xd(e.firestore,lp),r=op(e),i=dy(e.converter,t);return wy(n,[Ip(kp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Fu.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Dy(t.firestore,e)}))},t.prototype.isEqual=function(e){return ap(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Ay.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(jy);function By(e){return Xd(e,tp)}var zy=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(yp.bind.apply(yp,Le([void 0],e)))}return e.documentId=function(){return new e(ua.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Ye(e))instanceof yp&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Ky=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new Np("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new xp("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Op("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ap("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new Dp("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();var Hy,Wy={Firestore:xy,GeoPoint:gp,Timestamp:Zo,Blob:ky,Transaction:Ny,WriteBatch:Oy,DocumentReference:Dy,DocumentSnapshot:My,Query:jy,QueryDocumentSnapshot:Fy,QuerySnapshot:Vy,CollectionReference:qy,FieldPath:zy,FieldValue:Ky,setLogLevel:function(e){var t;t=e,Uo.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Xe("firestore",(function(e){return function(e,t){return new xy(e,new lp(e,t),new Iy)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Wy)))})(Hy=xt),Hy.registerVersion("@firebase/firestore","2.3.0");xt.initializeApp({apiKey:"AIzaSyBKmuihFNDNBreGiTZ7d0YF7EBt5j_7Pb4",authDomain:"the-dojo-24d35.firebaseapp.com",projectId:"the-dojo-24d35",storageBucket:"the-dojo-24d35.appspot.com",messagingSenderId:"507411781986",appId:"1:507411781986:web:6310ea668ac8e3f1d6b43b"});var Gy=xt.firestore();n.p;function Qy(e){var t=e.recipes,n=ke().mode;if(0===t.length)return(0,Ee.jsx)("div",{className:"error ".concat(n),children:"No Confessions"});return(0,Ee.jsx)("div",{className:"recipe-list",children:t.map((function(e){return(0,Ee.jsxs)("div",{className:"card ".concat(n),children:[(0,Ee.jsx)("h3",{children:e.title}),(0,Ee.jsxs)("p",{children:[" Credit: ",e.cookingTime," "]}),(0,Ee.jsxs)("div",{children:[e.method.substring(0,100),"..."]}),(0,Ee.jsx)(le,{to:"/recipes/".concat(e.id),children:"Read This"})]},e.id)}))})}function $y(){var t=ye((0,e.useState)(null),2),n=t[0],r=t[1],i=ye((0,e.useState)(!1),2),o=i[0],a=i[1],u=ye((0,e.useState)(!1),2),s=u[0],c=u[1],l=ke().mode;return(0,e.useEffect)((function(){a(!0);var e=Gy.collection("recipes").onSnapshot((function(e){if(e.empty)c("No Confession to load"),a(!1);else{var t=[];e.docs.forEach((function(e){t.push(we({id:e.id},e.data()))})),r(t),a(!1)}}),(function(e){c(e.message),a(!1)}));return function(){return e()}}),[]),(0,Ee.jsxs)("div",{className:"home",children:[s&&(0,Ee.jsx)("p",{className:"error ".concat(l),children:s}),o&&(0,Ee.jsx)("p",{className:"loading",children:"Loading"}),n&&(0,Ee.jsx)(Qy,{recipes:n})]})}function Yy(e){return function(e){if(Array.isArray(e))return de(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xy(){Xy=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),u=new k(i||[]);return r(a,"_invoke",{value:E(e,n,u)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var y={};s(y,o,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(I([])));m&&m!==t&&n.call(m,o)&&(y=m);var g=p.prototype=h.prototype=Object.create(y);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,a,u){var s=l(e[r],e,o);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==ve(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,u)}),(function(e){i("throw",e,a,u)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,u)}))}u(s.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return x()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=_(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return d.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),s(g,u,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Jy(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Zy(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Jy(o,r,i,a,u,"next",e)}function u(e){Jy(o,r,i,a,u,"throw",e)}a(void 0)}))}}function ev(){var t=ke().mode,n=ye((0,e.useState)(""),2),r=n[0],i=n[1],o=ye((0,e.useState)(""),2),a=o[0],u=o[1],s=ye((0,e.useState)(""),2),c=s[0],l=s[1],f=ye((0,e.useState)(""),2),h=f[0],d=f[1],p=ye((0,e.useState)([]),2),y=p[0],v=p[1],m=(0,e.useRef)(null),g=ne(),b=function(){var e=Zy(Xy().mark((function e(t){var n;return Xy().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={title:r,ingredients:y,method:a,cookingTime:c+"minutes"},e.prev=2,e.next=5,Gy.collection("recipes").add(n);case 5:g.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,Ee.jsxs)("div",{className:"create ".concat(t),children:[(0,Ee.jsx)("h2",{className:"page-title",children:"Add a new Confession"}),(0,Ee.jsxs)("form",{onSubmit:b,children:[(0,Ee.jsxs)("label",{children:[(0,Ee.jsx)("span",{children:"Title:"}),(0,Ee.jsx)("input",{type:"text",onChange:function(e){return i(e.target.value)},value:r,required:!0})]}),(0,Ee.jsxs)("label",{children:[(0,Ee.jsx)("span",{children:"Tags:"}),(0,Ee.jsxs)("div",{className:"ingredients",children:[(0,Ee.jsx)("input",{type:"text",onChange:function(e){return d(e.target.value)},value:h,ref:m}),(0,Ee.jsx)("button",{onClick:function(e){e.preventDefault();var t=h.trim();t&&!y.includes(t)&&v((function(e){return[].concat(Yy(e),[t])})),d(""),m.current.focus()},type:"button",className:"btn",children:"Add"})]})]}),(0,Ee.jsxs)("p",{children:["Current Tags: ",y.map((function(e){return(0,Ee.jsxs)("em",{children:[e,","]},e)}))]}),(0,Ee.jsxs)("label",{children:[(0,Ee.jsx)("span",{children:"Enter text here:"}),(0,Ee.jsx)("textarea",{onChange:function(e){return u(e.target.value)},value:a,required:!0})]}),(0,Ee.jsxs)("label",{children:[(0,Ee.jsx)("span",{children:"Your Instagram Handle (optional):"}),(0,Ee.jsx)("input",{type:"text",onChange:function(e){return l(e.target.value)},value:c})]}),(0,Ee.jsx)("button",{className:"btn",children:"Summit"})]})]})}var tv=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=ye((0,e.useState)(null),2),i=r[0],o=r[1],a=ye((0,e.useState)(!1),2),u=a[0],s=a[1],c=ye((0,e.useState)(null),2),l=c[0],f=c[1],h=ye((0,e.useState)(null),2),d=h[0],p=h[1];return(0,e.useEffect)((function(){var e=new AbortController,r=function(){var n=Zy(Xy().mark((function n(r){var i,a;return Xy().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(!0),n.prev=1,n.next=4,fetch(t,we(we({},r),{},{signal:e.signal}));case 4:if((i=n.sent).ok){n.next=7;break}throw new Error(i.statusText);case 7:return n.next=9,i.json();case 9:a=n.sent,s(!1),o(a),f(null),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(1),"AbortError"===n.t0.name?console.log("the fetch error was aborted"):(s(!1),f("could not fetch data"));case 18:case"end":return n.stop()}}),n,null,[[1,15]])})));return function(e){return n.apply(this,arguments)}}();return"GET"===n&&r(),"POST"===n&&d&&r(d),function(){e.abort()}}),[t,d,n]),{data:i,isPending:u,error:l,postData:function(e){p({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}}};function nv(){var e=ke().mode,t=re().search,n=new URLSearchParams(t).get("q"),r=tv(" http://localhost:3000/recipes?q="+n),i=r.error,o=r.isPending,a=r.data;return(0,Ee.jsxs)("div",{children:[(0,Ee.jsxs)("h2",{className:"page-title ".concat(e),children:['Confessions including "',n,'"']}),i&&(0,Ee.jsx)("p",{className:"error ".concat(e),children:i}),o&&(0,Ee.jsx)("p",{className:"loading",children:"Loading..."}),a&&(0,Ee.jsx)(Qy,{recipes:a})]})}function rv(){var t=function(){var e=te(B).match;return e?e.params:{}}().id,n=ke().mode,r=ne(),i=ye((0,e.useState)(null),2),o=i[0],a=i[1],u=ye((0,e.useState)(!1),2),s=u[0],c=u[1],l=ye((0,e.useState)(!1),2),f=l[0],h=l[1];return(0,e.useEffect)((function(){c(!0);var e=Gy.collection("recipes").doc(t).onSnapshot((function(e){e.exists?(c(!1),a(e.data())):(c(!1),h("could not find that confession"))}));return function(){return e()}}),[t]),(0,e.useEffect)((function(){f&&setTimeout((function(){r.push("/")}),2e3)}),[f,r]),(0,Ee.jsx)("div",{children:(0,Ee.jsxs)("div",{className:"recipes ".concat(n),children:[s&&(0,Ee.jsx)("div",{children:"Loading..."}),f&&(0,Ee.jsx)("div",{className:"error ".concat(n),children:f}),o&&(0,Ee.jsxs)("div",{className:"card",children:[(0,Ee.jsx)("h3",{children:o.title}),(0,Ee.jsxs)("p",{children:["Credit: ",o.cookingTime]}),(0,Ee.jsx)("h5",{children:"Tags - "}),(0,Ee.jsx)("ul",{children:o.ingredients.map((function(e){return(0,Ee.jsxs)("li",{children:["#",e]},e)}))}),(0,Ee.jsx)("p",{children:o.method})]})]})})}var iv=n.p+"static/media/mode-icon.934b83f6721657bc60dddcce93437f4b.svg",ov=["#58249c","#249c6b","#b70233"];function av(){var e=ke(),t=e.changeColor,n=e.changeMode,r=e.mode;return console.log(r),(0,Ee.jsxs)("div",{className:"themeSelector",children:[(0,Ee.jsx)("div",{className:"mode-toggle",children:(0,Ee.jsx)("img",{onClick:function(){n("light"===r?"dark":"light")},src:iv,alt:"dark/light toggle icon",style:{filter:"dark"===r?"invert(100%)":"invert(20%)"}})}),(0,Ee.jsx)("div",{children:ov.map((function(e){return(0,Ee.jsx)("div",{className:"themeButtons",onClick:function(){return t(e)},style:{background:e}},e)}))})]})}var uv=function(){var e=ke().mode;return(0,Ee.jsx)("div",{className:"App ".concat(e),children:(0,Ee.jsxs)(ie,{children:[(0,Ee.jsx)(xe,{}),(0,Ee.jsx)(av,{}),(0,Ee.jsxs)(ee,{children:[(0,Ee.jsx)(Q,{exact:!0,path:"/",children:(0,Ee.jsx)($y,{})}),(0,Ee.jsx)(Q,{path:"/create",children:(0,Ee.jsx)(ev,{})}),(0,Ee.jsx)(Q,{path:"/search",children:(0,Ee.jsx)(nv,{})}),(0,Ee.jsx)(Q,{path:"/recipes/:id",children:(0,Ee.jsx)(rv,{})})]})]})})};t.render((0,Ee.jsx)(e.StrictMode,{children:(0,Ee.jsx)(Te,{children:(0,Ee.jsx)(uv,{})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.ed6ef829.js.map